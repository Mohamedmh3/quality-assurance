import { TestCase } from '@/lib/types';

export const walletInfoTestCases: TestCase[] = [
  {
    id: 'TC-WALLET-INFO-001',
    title: 'Open Wallet Info Screen',
    whatYoureTesting: 'Verify that wallet info screen opens and displays transactions correctly',
    whyItMatters: 'Users need to see their transaction history. The screen must open correctly.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-WALLET-INFO-001'],
    relatedEdgeCases: ['EC-WALLET-INFO-001'],
    testSteps: [
      {
        step: 1,
        instruction: 'Navigate to wallet info screen',
        detailedSteps: [
          '1. Open wallet screen',
          '2. Tap on the balance card',
        ],
        whatYouShouldSee: 'The wallet info screen opens showing a wallet card background at the top with your balance displayed prominently. The card has a gradient background (usually primary color). Below the card, you see a date picker widget showing today\'s date, and below that is a divider line. Then you see a list of transactions. At the bottom, there is a net total widget showing the calculated total.',
        expectedResult: 'Wallet info screen opens with transactions',
      },
      {
        step: 2,
        instruction: 'Wait for transactions to load',
        detailedSteps: [
          '1. Observe the screen',
          '2. Wait for loading to complete',
        ],
        whatYouShouldSee: 'A loading spinner appears in the center while fetching transactions. Once loaded, transactions appear in a scrollable list. Each transaction shows the date, amount (with + or - sign), description, and other details. Transactions are ordered by date, newest first.',
        expectedResult: 'Transactions load and display correctly',
      },
    ],
    preconditions: [
      'User is logged in',
      'User has wallet with transactions',
      'Network connection is available',
    ],
    testData: 'User wallet with transaction history',
    automatable: true,
    status: 'Not Started',
    notes: 'Transactions should be accurate',
    successChecklist: [
      '✓ Screen opens successfully',
      '✓ Wallet card background is visible',
      '✓ Transactions load successfully',
      '✓ Net total is displayed',
    ],
  },
  {
    id: 'TC-WALLET-INFO-002',
    title: 'Filter Transactions by Date Range',
    whatYoureTesting: 'Verify that date filtering works correctly for transactions',
    whyItMatters: 'Users need to filter transactions by date. Date filtering must work accurately.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-002'],
    relatedEdgeCases: ['EC-WALLET-INFO-002'],
    testSteps: [
      {
        step: 1,
        instruction: 'Tap on date picker widget',
        detailedSteps: [
          '1. Locate the date picker widget above the transaction list',
          '2. Tap on it',
        ],
        whatYouShouldSee: 'A date picker opens allowing you to select a start date and end date. You can see a calendar interface where you can choose dates by tapping on them. The picker shows the current date range selected.',
        expectedResult: 'Date picker opens',
      },
      {
        step: 2,
        instruction: 'Select a different date range',
        detailedSteps: [
          '1. Select a start date (e.g., last week)',
          '2. Select an end date (e.g., today)',
          '3. Confirm the selection',
        ],
        whatYouShouldSee: 'After selecting dates, the date picker closes and shows the selected date range. The transaction list automatically refreshes. A loading indicator appears briefly while fetching filtered transactions. After loading, only transactions within the selected date range are displayed. Transactions outside the range are hidden.',
        expectedResult: 'Transactions are filtered by date range',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User has transactions in different date ranges',
      'Network connection is available',
    ],
    testData: 'Transactions across different dates',
    automatable: false,
    status: 'Not Started',
    notes: 'Date filtering should be accurate',
    successChecklist: [
      '✓ Date picker works correctly',
      '✓ Transactions refresh after date selection',
      '✓ Only transactions in date range are shown',
      '✓ Filtering is accurate',
    ],
  },
  {
    id: 'TC-WALLET-INFO-003',
    title: 'Load More Transactions on Scroll',
    whatYoureTesting: 'Verify that pagination works for transaction list',
    whyItMatters: 'Users may have many transactions. Pagination must work smoothly.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-001'],
    relatedEdgeCases: ['EC-WALLET-INFO-003'],
    testSteps: [
      {
        step: 1,
        instruction: 'Scroll down to bottom of transaction list',
        detailedSteps: [
          '1. View the transaction list',
          '2. Swipe up to scroll down',
          '3. Continue scrolling until you reach the bottom',
        ],
        whatYouShouldSee: 'As you scroll down, when you get close to the bottom, a loading indicator appears at the bottom of the list. It shows that more transactions are being loaded. The indicator appears smoothly without interrupting scrolling.',
        expectedResult: 'Loading indicator appears at bottom',
      },
      {
        step: 2,
        instruction: 'Wait for more transactions to load',
        detailedSteps: [
          '1. Wait for the loading indicator to disappear',
          '2. Check if new transactions appear',
        ],
        whatYouShouldSee: 'After a moment, more transactions appear below the ones you already saw. The new transactions are added to the list seamlessly. You can continue scrolling to see more. The loading indicator disappears once loading is complete.',
        expectedResult: 'More transactions are loaded',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User has more than one page of transactions',
      'Network connection is available',
    ],
    testData: 'Multiple pages of transactions',
    automatable: true,
    status: 'Not Started',
    notes: 'Pagination should work smoothly',
    successChecklist: [
      '✓ Loading indicator appears on scroll',
      '✓ More transactions load automatically',
      '✓ No duplicate transactions',
      '✓ Scrolling remains smooth',
    ],
  },
  {
    id: 'TC-WALLET-INFO-004',
    title: 'View Card Details',
    whatYoureTesting: 'Verify that card details view displays correctly',
    whyItMatters: 'Users need to see their card information. Card details must display correctly.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-003'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'Switch to card details view',
        detailedSteps: [
          '1. Locate the view toggle or card info button',
          '2. Tap to switch from transaction view to card details view',
        ],
        whatYouShouldSee: 'The transaction list disappears and card details appear instead. You see a list showing your full name (if available), card number (formatted with spaces, e.g., "1234 5678 9012 3456"), and a toggle switch for "Set as primary card". Each item is displayed in a clean list format.',
        expectedResult: 'Card details view is displayed',
      },
      {
        step: 2,
        instruction: 'Toggle primary card setting',
        detailedSteps: [
          '1. Locate the "Set as primary card" toggle',
          '2. Tap on it to toggle',
        ],
        whatYouShouldSee: 'The toggle switch changes state (on/off). A brief loading indicator appears while saving the preference. After saving, the toggle remains in the new state.',
        expectedResult: 'Primary card setting is updated',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User has wallet card',
    ],
    testData: 'User wallet card information',
    automatable: true,
    status: 'Not Started',
    notes: 'Card number should be formatted correctly',
    successChecklist: [
      '✓ Card details display correctly',
      '✓ Card number is formatted',
      '✓ Primary card toggle works',
      '✓ Settings are saved',
    ],
  },
  {
    id: 'TC-WALLET-INFO-005',
    title: 'Enter Invoice PIN and Validate',
    whatYoureTesting: 'Verify that entering invoice PIN validates and navigates to invoice details',
    whyItMatters: 'Users need to pay invoices by entering PIN. Validation must work correctly.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-WALLET-INFO-004'],
    relatedEdgeCases: ['EC-WALLET-INFO-004'],
    testSteps: [
      {
        step: 1,
        instruction: 'Enter invoice PIN in bottom input field',
        detailedSteps: [
          '1. Locate the invoice PIN input field at the bottom of the screen',
          '2. Enter 4-digit PIN (e.g., 1234)',
        ],
        whatYouShouldSee: 'As you type each digit, it appears in the input field. The digits are shown clearly. After entering 4 digits, the input field is filled.',
        expectedResult: 'PIN is entered correctly',
      },
      {
        step: 2,
        instruction: 'Tap validate button',
        detailedSteps: [
          '1. Locate the validate button',
          '2. Tap on it',
        ],
        whatYouShouldSee: 'A loading indicator appears while the app checks the invoice with the server. The loading spinner is visible. After a moment, if the invoice is found, you are automatically taken to the invoice details screen. If the invoice is not found, an error message appears.',
        expectedResult: 'Invoice is validated and user navigates to details screen',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User has a valid invoice PIN',
      'Network connection is available',
    ],
    testData: 'Valid invoice PIN/OTP',
    automatable: true,
    status: 'Not Started',
    notes: 'PIN should be exactly 4 digits',
    successChecklist: [
      '✓ PIN is entered correctly',
      '✓ Invoice validation works',
      '✓ Navigation to invoice details works',
    ],
  },
  {
    id: 'TC-WALLET-INFO-006',
    title: 'View Invoice Details',
    whatYoureTesting: 'Verify that invoice details page displays correctly',
    whyItMatters: 'Users need to review invoice before payment. Invoice details must display correctly.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-WALLET-INFO-005'],
    relatedEdgeCases: ['EC-WALLET-INFO-005'],
    testSteps: [
      {
        step: 1,
        instruction: 'Navigate to invoice details page',
        detailedSteps: [
          '1. Enter valid invoice PIN',
          '2. Tap validate',
        ],
        whatYouShouldSee: 'The invoice details screen opens showing an app bar with "Invoice Details" title and back button. Below that, you see the invoice header with invoice number and date. Then there is a details card showing invoice items, subtotal, tax, and total. Below that, you see tip selection options (e.g., 0%, 5%, 10%, 15%). At the bottom, there is a slider button to pay.',
        expectedResult: 'Invoice details page opens',
      },
      {
        step: 2,
        instruction: 'Review invoice information',
        detailedSteps: [
          '1. Check invoice header',
          '2. Review invoice items',
          '3. Check totals',
        ],
        whatYouShouldSee: 'All invoice information is displayed clearly. The invoice number, date, items, prices, subtotal, tax, and total are all visible and readable. The information is well-organized and easy to understand.',
        expectedResult: 'Invoice details are displayed correctly',
      },
    ],
    preconditions: [
      'User has valid invoice PIN',
      'Invoice exists',
      'Network connection is available',
    ],
    testData: 'Valid invoice data',
    automatable: true,
    status: 'Not Started',
    notes: 'All invoice details should be accurate',
    successChecklist: [
      '✓ Invoice details load correctly',
      '✓ All information is displayed',
      '✓ UI is clear and readable',
      '✓ Tip options are available',
    ],
  },
  {
    id: 'TC-WALLET-INFO-007',
    title: 'Select Tip and Pay Invoice',
    whatYoureTesting: 'Verify that tip selection and payment work correctly',
    whyItMatters: 'Users need to pay invoices with tips. Payment flow must work correctly.',
    estimatedTime: '2 minutes',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-WALLET-INFO-006'],
    relatedEdgeCases: ['EC-WALLET-INFO-006'],
    testSteps: [
      {
        step: 1,
        instruction: 'Select a tip amount',
        detailedSteps: [
          '1. View tip options (e.g., 0%, 5%, 10%, 15%)',
          '2. Tap on a tip option (e.g., 10%)',
        ],
        whatYouShouldSee: 'The selected tip option is highlighted or visually selected. The tip amount is saved. The total amount may update to include the tip.',
        expectedResult: 'Tip amount is selected',
      },
      {
        step: 2,
        instruction: 'Slide payment button to pay',
        detailedSteps: [
          '1. Locate the slider button at bottom',
          '2. Slide it to the right to confirm payment',
        ],
        whatYouShouldSee: 'The slider button moves smoothly as you slide it. When you slide it all the way, a loading indicator appears while processing payment. After processing, a success dialog appears showing a happy mascot icon and "Invoice paid" message. After a few seconds, you are redirected to the home screen.',
        expectedResult: 'Payment is processed and success screen is shown',
      },
    ],
    preconditions: [
      'User is on invoice details page',
      'User has wallet with sufficient balance',
      'Network connection is available',
    ],
    testData: 'Valid invoice and sufficient balance',
    automatable: true,
    status: 'Not Started',
    notes: 'Balance should be deducted correctly',
    successChecklist: [
      '✓ Tip selection works',
      '✓ Payment processes successfully',
      '✓ Success screen is displayed',
      '✓ Balance is updated',
      '✓ Navigation works correctly',
    ],
  },
  {
    id: 'TC-WALLET-INFO-008',
    title: 'Handle Invalid Invoice PIN',
    whatYoureTesting: 'Verify that entering invalid PIN shows appropriate error message',
    whyItMatters: 'Users may enter wrong PIN. Error handling must be clear and helpful.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-004'],
    relatedEdgeCases: ['EC-WALLET-INFO-004'],
    testSteps: [
      {
        step: 1,
        instruction: 'Enter invalid PIN (invoice not found)',
        detailedSteps: [
          '1. Enter 4 digits that do not match any invoice (e.g., 9999)',
          '2. Tap validate button',
          '3. Wait for validation',
        ],
        whatYouShouldSee: 'A loading indicator appears while checking. After a moment, an error message appears saying "Invoice not found" or similar. The message is displayed clearly, and you can try again by entering a different PIN.',
        expectedResult: 'Error message appears for invalid invoice',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User enters invalid PIN',
      'Network connection is available',
    ],
    testData: 'Invalid invoice PIN/OTP',
    automatable: true,
    status: 'Not Started',
    notes: 'Error messages should be clear',
    successChecklist: [
      '✓ Error message appears for invalid invoice',
      '✓ User can retry after error',
      '✓ Error message is clear',
    ],
  },
  {
    id: 'TC-WALLET-INFO-009',
    title: 'View Net Total Calculation',
    whatYoureTesting: 'Verify that net total displays correctly at bottom',
    whyItMatters: 'Users need to see their net total. The calculation must be accurate.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-WALLET-INFO-007'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'View net total widget at bottom',
        detailedSteps: [
          '1. Scroll to bottom of transaction list',
          '2. Observe the net total widget',
        ],
        whatYouShouldSee: 'At the bottom of the screen, there is a widget showing the net total. It displays the calculated total amount based on all transactions in the current view. The amount is clearly visible and formatted correctly.',
        expectedResult: 'Net total is displayed correctly',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'Transactions are loaded',
    ],
    testData: 'Transaction data',
    automatable: true,
    status: 'Not Started',
    notes: 'Net total should be calculated accurately',
    successChecklist: [
      '✓ Net total is displayed',
      '✓ Calculation is accurate',
      '✓ Amount is formatted correctly',
    ],
  },
  {
    id: 'TC-WALLET-INFO-010',
    title: 'Navigate Back with Updated Balance',
    whatYoureTesting: 'Verify that balance updates when navigating back to wallet screen',
    whyItMatters: 'Balance should be synced after changes. Navigation must work correctly.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-008'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'Make a change that affects balance (e.g., pay invoice)',
        detailedSteps: [
          '1. Pay an invoice from wallet info screen',
          '2. Complete payment',
        ],
        whatYouShouldSee: 'Payment is processed successfully. Balance is deducted.',
        expectedResult: 'Balance changes',
      },
      {
        step: 2,
        instruction: 'Navigate back to wallet screen',
        detailedSteps: [
          '1. Tap back button',
          '2. Return to wallet screen',
        ],
        whatYouShouldSee: 'You navigate back to the wallet screen. The balance card shows the updated balance amount. The balance reflects the changes made in the wallet info screen.',
        expectedResult: 'Balance is updated in wallet screen',
      },
    ],
    preconditions: [
      'User is on wallet info screen',
      'Balance has changed',
    ],
    testData: 'Updated balance',
    automatable: true,
    status: 'Not Started',
    notes: 'Balance should sync correctly',
    successChecklist: [
      '✓ Navigation works correctly',
      '✓ Balance updates properly',
      '✓ Data syncs correctly',
    ],
  },
  {
    id: 'TC-WALLET-INFO-011',
    title: 'Scan QR Code for Invoice',
    whatYoureTesting: 'Verify that QR scanner can scan invoice QR codes',
    whyItMatters: 'Users need to scan QR codes to pay invoices. QR scanning must work correctly.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-004'],
    relatedEdgeCases: ['EC-WALLET-INFO-007'],
    testSteps: [
      {
        step: 1,
        instruction: 'Open QR scanner',
        detailedSteps: [
          '1. Locate QR scanner button (if available)',
          '2. Tap to open QR scanner',
        ],
        whatYouShouldSee: 'A QR scanner screen opens showing a camera viewfinder. There is a red scanning line that moves up and down. The scanner is ready to scan QR codes.',
        expectedResult: 'QR scanner opens',
      },
      {
        step: 2,
        instruction: 'Scan invoice QR code',
        detailedSteps: [
          '1. Point camera at invoice QR code',
          '2. Wait for scan to complete',
        ],
        whatYouShouldSee: 'The QR code is detected automatically. A loading bottom sheet appears with "Processing" message. After processing, if the QR code contains invoice data, you are navigated to invoice details page. If it contains topup data, topup is processed.',
        expectedResult: 'QR code is scanned and processed',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'QR scanner is available',
      'Valid invoice QR code',
      'Camera permission is granted',
    ],
    testData: 'Valid invoice QR code',
    automatable: false,
    status: 'Not Started',
    notes: 'QR scanner requires camera permission',
    successChecklist: [
      '✓ QR scanner opens',
      '✓ QR code is scanned',
      '✓ Processing works correctly',
      '✓ Navigation to invoice details works',
    ],
  },
  {
    id: 'TC-WALLET-INFO-012',
    title: 'Top Up Wallet from QR Code',
    whatYoureTesting: 'Verify that topup can be done by scanning QR code',
    whyItMatters: 'Users need to top up wallet using QR codes. Topup must work correctly.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-008'],
    relatedEdgeCases: ['EC-WALLET-INFO-008'],
    testSteps: [
      {
        step: 1,
        instruction: 'Scan topup QR code',
        detailedSteps: [
          '1. Open QR scanner',
          '2. Scan QR code containing topup-key parameter',
        ],
        whatYouShouldSee: 'The QR code is detected. A loading bottom sheet appears with "Processing topup" message and loading spinner. The bottom sheet covers the screen.',
        expectedResult: 'Topup QR code is scanned',
      },
      {
        step: 2,
        instruction: 'Wait for topup to complete',
        detailedSteps: [
          '1. Wait for processing to finish',
          '2. Observe the result',
        ],
        whatYouShouldSee: 'After processing, a success message appears saying the topup was successful. The loading bottom sheet closes. Your wallet balance updates to show the new amount. The balance card at the top reflects the updated balance.',
        expectedResult: 'Topup completes successfully and balance updates',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'QR scanner is available',
      'Valid topup QR code',
      'Network connection is available',
    ],
    testData: 'Valid topup QR code with topup-key',
    automatable: false,
    status: 'Not Started',
    notes: 'Balance should update immediately',
    successChecklist: [
      '✓ QR code is scanned',
      '✓ Topup processes successfully',
      '✓ Success message appears',
      '✓ Balance updates correctly',
    ],
  },
  {
    id: 'TC-WALLET-INFO-013',
    title: 'Handle Empty Transaction List',
    whatYoureTesting: 'Verify that empty transaction state is displayed correctly',
    whyItMatters: 'Users may have no transactions. Empty state must be user-friendly.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-WALLET-INFO-001'],
    relatedEdgeCases: ['EC-WALLET-INFO-009'],
    testSteps: [
      {
        step: 1,
        instruction: 'Open wallet info with no transactions',
        detailedSteps: [
          '1. Navigate to wallet info screen',
          '2. Wait for transactions to load',
        ],
        whatYouShouldSee: 'A loading indicator appears while fetching transactions. After loading completes, if there are no transactions, an empty state widget is displayed. The empty state shows a message indicating no transactions are available, possibly with an icon or illustration.',
        expectedResult: 'Empty state is displayed correctly',
      },
    ],
    preconditions: [
      'User is logged in',
      'User has wallet with no transactions',
      'Network connection is available',
    ],
    testData: 'User wallet with no transactions',
    automatable: true,
    status: 'Not Started',
    notes: 'Empty state should be clear and helpful',
    successChecklist: [
      '✓ Loading indicator appears',
      '✓ Empty state is displayed',
      '✓ Empty state message is clear',
      '✓ No errors occur',
    ],
  },
  {
    id: 'TC-WALLET-INFO-014',
    title: 'Handle Transaction Loading Error',
    whatYoureTesting: 'Verify that transaction loading errors are handled correctly',
    whyItMatters: 'Network errors may occur. Error handling must be clear and allow retry.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-001'],
    relatedEdgeCases: ['EC-WALLET-INFO-010'],
    testSteps: [
      {
        step: 1,
        instruction: 'Simulate network error',
        detailedSteps: [
          '1. Turn off network connection',
          '2. Open wallet info screen',
          '3. Wait for error',
        ],
        whatYouShouldSee: 'A loading indicator appears while trying to fetch transactions. After a moment, an error message appears saying "Error loading transactions". There is a "Retry" button that you can tap to try again.',
        expectedResult: 'Error state is displayed with retry option',
      },
      {
        step: 2,
        instruction: 'Tap retry button',
        detailedSteps: [
          '1. Turn network connection back on',
          '2. Tap the "Retry" button',
        ],
        whatYouShouldSee: 'The loading indicator appears again while retrying. After a moment, if the connection is restored, transactions load successfully and are displayed.',
        expectedResult: 'Retry works and transactions load',
      },
    ],
    preconditions: [
      'User is logged in',
      'Network connection can be toggled',
    ],
    testData: 'Network error scenario',
    automatable: false,
    status: 'Not Started',
    notes: 'Error messages should be clear',
    successChecklist: [
      '✓ Error message appears',
      '✓ Retry button is visible',
      '✓ Retry works correctly',
      '✓ Transactions load after retry',
    ],
  },
  {
    id: 'TC-WALLET-INFO-015',
    title: 'Handle Pagination Error',
    whatYoureTesting: 'Verify that pagination errors are handled correctly',
    whyItMatters: 'Errors may occur when loading more transactions. Error handling must allow retry.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-WALLET-INFO-001'],
    relatedEdgeCases: ['EC-WALLET-INFO-011'],
    testSteps: [
      {
        step: 1,
        instruction: 'Scroll to bottom and trigger pagination error',
        detailedSteps: [
          '1. Scroll down to bottom of transaction list',
          '2. Turn off network when loading more',
          '3. Wait for error',
        ],
        whatYouShouldSee: 'A loading indicator appears at the bottom while trying to load more transactions. After a moment, an error message appears saying "Error loading more transactions". There is a "Retry" button below the error message.',
        expectedResult: 'Pagination error is displayed',
      },
      {
        step: 2,
        instruction: 'Tap retry button',
        detailedSteps: [
          '1. Turn network connection back on',
          '2. Tap the "Retry" button',
        ],
        whatYouShouldSee: 'The loading indicator appears again while retrying. After a moment, if the connection is restored, more transactions load successfully and are added to the list.',
        expectedResult: 'Retry works and more transactions load',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User has multiple pages of transactions',
      'Network connection can be toggled',
    ],
    testData: 'Network error during pagination',
    automatable: false,
    status: 'Not Started',
    notes: 'Pagination retry should work smoothly',
    successChecklist: [
      '✓ Error message appears',
      '✓ Retry button is visible',
      '✓ Retry works correctly',
      '✓ More transactions load after retry',
    ],
  },
  {
    id: 'TC-WALLET-INFO-016',
    title: 'Switch Between Transaction and Card Details View',
    whatYoureTesting: 'Verify that switching between views works correctly',
    whyItMatters: 'Users need to view both transactions and card details. View switching must work smoothly.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-003'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'Switch to card details view',
        detailedSteps: [
          '1. Locate the view toggle button (card icon or info icon)',
          '2. Tap to switch from transaction view to card details view',
        ],
        whatYouShouldSee: 'The transaction list disappears and card details appear instead. You see card information including full name (if available), card number (formatted with spaces), and primary card toggle. The net total widget at the bottom disappears (it only shows in card details view, not transaction view).',
        expectedResult: 'Card details view is displayed',
      },
      {
        step: 2,
        instruction: 'Switch back to transaction view',
        detailedSteps: [
          '1. Locate the view toggle button again',
          '2. Tap to switch back to transaction view',
        ],
        whatYouShouldSee: 'The card details disappear and the transaction list reappears. The date picker and transaction list are visible again. The net total widget appears at the bottom again.',
        expectedResult: 'Transaction view is displayed',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User has wallet card',
    ],
    testData: 'N/A',
    automatable: true,
    status: 'Not Started',
    notes: 'View switching should be smooth',
    successChecklist: [
      '✓ View toggle works',
      '✓ Card details view displays correctly',
      '✓ Transaction view displays correctly',
      '✓ Net total widget visibility is correct',
    ],
  },
  {
    id: 'TC-WALLET-INFO-017',
    title: 'Handle Invoice Details Loading State',
    whatYoureTesting: 'Verify that invoice details loading state is displayed correctly',
    whyItMatters: 'Users need to see loading feedback. Loading state must be clear.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-005'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'Enter invoice PIN and validate',
        detailedSteps: [
          '1. Enter valid invoice PIN',
          '2. Tap validate button',
        ],
        whatYouShouldSee: 'A loading indicator appears in the center of the invoice details screen. The loading spinner is clearly visible. The screen shows only the loading indicator while fetching invoice data.',
        expectedResult: 'Loading state is displayed',
      },
      {
        step: 2,
        instruction: 'Wait for invoice details to load',
        detailedSteps: [
          '1. Wait for loading to complete',
          '2. Observe when content appears',
        ],
        whatYouShouldSee: 'After a moment, the loading indicator disappears and invoice details appear. The invoice header, details card, tip options, and payment button become visible. The transition from loading to content is smooth.',
        expectedResult: 'Invoice details load and display correctly',
      },
    ],
    preconditions: [
      'User has valid invoice PIN',
      'Invoice exists',
      'Network connection is available',
    ],
    testData: 'Valid invoice data',
    automatable: true,
    status: 'Not Started',
    notes: 'Loading should not take too long',
    successChecklist: [
      '✓ Loading indicator appears',
      '✓ Loading indicator is visible',
      '✓ Invoice details appear after loading',
      '✓ Transition is smooth',
    ],
  },
  {
    id: 'TC-WALLET-INFO-018',
    title: 'Handle Invoice Not Found',
    whatYoureTesting: 'Verify that invoice not found state is handled correctly',
    whyItMatters: 'Invalid invoice PINs should show appropriate empty state. Error handling must be clear.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-005'],
    relatedEdgeCases: ['EC-WALLET-INFO-005'],
    testSteps: [
      {
        step: 1,
        instruction: 'Enter invalid invoice PIN',
        detailedSteps: [
          '1. Enter PIN that does not match any invoice',
          '2. Tap validate button',
          '3. Wait for loading',
        ],
        whatYouShouldSee: 'A loading indicator appears while checking. After a moment, the invoice details screen shows an empty state widget. The empty state indicates that no invoice was found. You can go back and try a different PIN.',
        expectedResult: 'Empty state is displayed for invalid invoice',
      },
    ],
    preconditions: [
      'User enters invalid invoice PIN',
      'Network connection is available',
    ],
    testData: 'Invalid invoice PIN',
    automatable: true,
    status: 'Not Started',
    notes: 'Empty state should be clear',
    successChecklist: [
      '✓ Loading indicator appears',
      '✓ Empty state is displayed',
      '✓ Empty state message is clear',
      '✓ User can navigate back',
    ],
  },
  {
    id: 'TC-WALLET-INFO-019',
    title: 'Handle Payment Failure',
    whatYoureTesting: 'Verify that payment failure is handled correctly',
    whyItMatters: 'Payments may fail. Error handling must be clear and allow retry.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-WALLET-INFO-006'],
    relatedEdgeCases: ['EC-WALLET-INFO-006'],
    testSteps: [
      {
        step: 1,
        instruction: 'Attempt payment with insufficient balance or network error',
        detailedSteps: [
          '1. Select tip amount',
          '2. Slide payment button',
          '3. Simulate payment failure (insufficient balance or network error)',
        ],
        whatYouShouldSee: 'A loading indicator appears while processing payment. After a moment, a payment failed message appears saying "Payment failed" or similar. The message is displayed clearly in a dialog.',
        expectedResult: 'Payment failure message is displayed',
      },
      {
        step: 2,
        instruction: 'Retry payment after fixing issue',
        detailedSteps: [
          '1. Fix the issue (add balance or restore network)',
          '2. Slide payment button again',
        ],
        whatYouShouldSee: 'The payment processes again. If the issue is fixed, payment succeeds and success dialog appears. If not, the error message appears again.',
        expectedResult: 'Retry works correctly',
      },
    ],
    preconditions: [
      'User is on invoice details page',
      'Payment can fail (insufficient balance or network error)',
    ],
    testData: 'Payment failure scenario',
    automatable: false,
    status: 'Not Started',
    notes: 'Error messages should be clear',
    successChecklist: [
      '✓ Payment failure message appears',
      '✓ Error message is clear',
      '✓ User can retry payment',
      '✓ Retry works correctly',
    ],
  },
  {
    id: 'TC-WALLET-INFO-020',
    title: 'View Success Dialog After Payment',
    whatYoureTesting: 'Verify that success dialog appears after successful payment',
    whyItMatters: 'Users need confirmation that payment succeeded. Success feedback must be clear.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-WALLET-INFO-006'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'Complete successful payment',
        detailedSteps: [
          '1. Select tip amount',
          '2. Slide payment button',
          '3. Wait for payment to process',
        ],
        whatYouShouldSee: 'A loading indicator appears while processing payment. After processing, a success dialog appears showing a happy mascot icon and "Invoice paid" or similar success message. The dialog is displayed prominently.',
        expectedResult: 'Success dialog appears',
      },
      {
        step: 2,
        instruction: 'Wait for automatic navigation',
        detailedSteps: [
          '1. Observe the success dialog',
          '2. Wait for automatic navigation',
        ],
        whatYouShouldSee: 'After a few seconds (usually 2-3 seconds), the success dialog automatically closes and you are redirected to the home screen. The navigation is smooth.',
        expectedResult: 'Automatic navigation to home works',
      },
    ],
    preconditions: [
      'User is on invoice details page',
      'User has sufficient balance',
      'Payment succeeds',
      'Network connection is available',
    ],
    testData: 'Successful payment scenario',
    automatable: true,
    status: 'Not Started',
    notes: 'Success dialog should be visible long enough',
    successChecklist: [
      '✓ Success dialog appears',
      '✓ Success message is clear',
      '✓ Mascot icon is visible',
      '✓ Automatic navigation works',
    ],
  },
  {
    id: 'TC-WALLET-INFO-021',
    title: 'Handle Deep Link in Invoice Details',
    whatYoureTesting: 'Verify that deep link handling works correctly in invoice details',
    whyItMatters: 'Users may access invoice from deep links. Deep link handling must work correctly.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-WALLET-INFO-005'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'Open invoice details from deep link',
        detailedSteps: [
          '1. Receive deep link with invoice data',
          '2. Open app from deep link',
        ],
        whatYouShouldSee: 'The app opens and navigates to invoice details page. The invoice details load correctly.',
        expectedResult: 'Invoice details open from deep link',
      },
      {
        step: 2,
        instruction: 'Press back button',
        detailedSteps: [
          '1. Tap back button',
          '2. Observe navigation',
        ],
        whatYouShouldSee: 'If opened from deep link, you are navigated to splash screen and deep link state is cleared. If opened normally, you go back to the previous screen.',
        expectedResult: 'Back button navigation works correctly',
      },
    ],
    preconditions: [
      'Deep link is received',
      'Invoice exists',
    ],
    testData: 'Deep link with invoice data',
    automatable: false,
    status: 'Not Started',
    notes: 'Deep link state should be cleared',
    successChecklist: [
      '✓ Invoice details open from deep link',
      '✓ Back button works correctly',
      '✓ Deep link state is cleared',
      '✓ Navigation is correct',
    ],
  },
  {
    id: 'TC-WALLET-INFO-022',
    title: 'Verify Card Number Formatting',
    whatYoureTesting: 'Verify that card number is formatted correctly with spaces',
    whyItMatters: 'Card numbers should be readable. Formatting must be correct.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-WALLET-INFO-003'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'View card details',
        detailedSteps: [
          '1. Switch to card details view',
          '2. Locate card number field',
        ],
        whatYouShouldSee: 'The card number is displayed with spaces separating groups of 4 digits. For example, "1234 5678 9012 3456" instead of "1234567890123456". The formatting makes the card number easy to read.',
        expectedResult: 'Card number is formatted correctly',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User has wallet card',
    ],
    testData: 'User wallet card with card number',
    automatable: true,
    status: 'Not Started',
    notes: 'Card number should be formatted consistently',
    successChecklist: [
      '✓ Card number is formatted',
      '✓ Spaces are in correct positions',
      '✓ Formatting is consistent',
      '✓ Card number is readable',
    ],
  },
  {
    id: 'TC-WALLET-INFO-023',
    title: 'Toggle Primary Card Setting',
    whatYoureTesting: 'Verify that primary card toggle works correctly',
    whyItMatters: 'Users need to set primary card. Toggle must work reliably.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-003'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'Toggle primary card switch',
        detailedSteps: [
          '1. Switch to card details view',
          '2. Locate "Set as primary card" toggle',
          '3. Tap on the toggle switch',
        ],
        whatYouShouldSee: 'The toggle switch changes state (on/off). A brief loading indicator appears on the switch while saving the preference. After saving, the toggle remains in the new state. The change is saved successfully.',
        expectedResult: 'Primary card setting is updated',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User has wallet card',
      'Network connection is available',
    ],
    testData: 'User wallet card',
    automatable: true,
    status: 'Not Started',
    notes: 'Toggle should save immediately',
    successChecklist: [
      '✓ Toggle switch works',
      '✓ Loading indicator appears',
      '✓ Setting is saved',
      '✓ Toggle state persists',
    ],
  },
  {
    id: 'TC-WALLET-INFO-024',
    title: 'Verify Net Total Widget Visibility',
    whatYoureTesting: 'Verify that net total widget appears only in card details view',
    whyItMatters: 'Net total should only show in card details. Visibility must be correct.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-WALLET-INFO-007'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'Check net total in transaction view',
        detailedSteps: [
          '1. Ensure you are in transaction view',
          '2. Scroll to bottom',
          '3. Check if net total widget is visible',
        ],
        whatYouShouldSee: 'The net total widget is NOT visible at the bottom. Only the transaction list is visible. The bottom sheet area is empty or shows other content.',
        expectedResult: 'Net total widget is hidden in transaction view',
      },
      {
        step: 2,
        instruction: 'Check net total in card details view',
        detailedSteps: [
          '1. Switch to card details view',
          '2. Scroll to bottom',
          '3. Check if net total widget is visible',
        ],
        whatYouShouldSee: 'The net total widget IS visible at the bottom. It shows the card balance with "Card Balance" label and the balance amount in large text. The widget has a rounded top border and primary color background.',
        expectedResult: 'Net total widget is visible in card details view',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User has wallet card',
    ],
    testData: 'N/A',
    automatable: true,
    status: 'Not Started',
    notes: 'Net total visibility should be correct',
    successChecklist: [
      '✓ Net total is hidden in transaction view',
      '✓ Net total is visible in card details view',
      '✓ Widget displays correct balance',
      '✓ Visibility switches correctly',
    ],
  },
  {
    id: 'TC-WALLET-INFO-025',
    title: 'Verify Date Picker Default Values',
    whatYoureTesting: 'Verify that date picker defaults to today\'s date',
    whyItMatters: 'Users expect date picker to show current date by default. Default values must be correct.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-WALLET-INFO-002'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'Check date picker default values',
        detailedSteps: [
          '1. Open wallet info screen',
          '2. Locate date picker widget',
          '3. Check displayed date range',
        ],
        whatYouShouldSee: 'The date picker shows today\'s date for both start date and end date. The date range displayed is "Today" or shows today\'s date in the format used by the app. The default range is a single day (today).',
        expectedResult: 'Date picker defaults to today',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
    ],
    testData: 'N/A',
    automatable: true,
    status: 'Not Started',
    notes: 'Default date should be today',
    successChecklist: [
      '✓ Date picker shows today\'s date',
      '✓ Both start and end dates are today',
      '✓ Date format is correct',
      '✓ Default range is correct',
    ],
  },
  {
    id: 'TC-WALLET-INFO-026',
    title: 'Navigate Back with Updated Balance',
    whatYoureTesting: 'Verify that balance updates when navigating back from wallet info',
    whyItMatters: 'Balance should sync after changes. Navigation must update balance correctly.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-008'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'Make a change that affects balance',
        detailedSteps: [
          '1. Pay an invoice or perform topup',
          '2. Complete the operation',
        ],
        whatYouShouldSee: 'Balance changes in wallet info screen. The balance card at the top shows the updated balance.',
        expectedResult: 'Balance changes in wallet info',
      },
      {
        step: 2,
        instruction: 'Navigate back to wallet screen',
        detailedSteps: [
          '1. Tap back button',
          '2. Return to wallet screen',
        ],
        whatYouShouldSee: 'You navigate back to the wallet screen. The balance card in the wallet screen shows the updated balance amount. The balance reflects the changes made in the wallet info screen. The wallet list is updated correctly.',
        expectedResult: 'Balance is updated in wallet screen',
      },
    ],
    preconditions: [
      'User is on wallet info screen',
      'Balance has changed (payment or topup)',
    ],
    testData: 'Updated balance',
    automatable: true,
    status: 'Not Started',
    notes: 'Balance should sync correctly',
    successChecklist: [
      '✓ Navigation works correctly',
      '✓ Balance updates properly',
      '✓ Wallet screen shows updated balance',
      '✓ Data syncs correctly',
    ],
  },
];

