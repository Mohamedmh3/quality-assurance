import { TestCase } from '@/lib/types';

export const walletInfoTestCases: TestCase[] = [
  {
    id: 'TC-WALLET-INFO-001',
    title: 'Open Wallet Info Screen',
    whatYoureTesting: 'Verify that wallet info screen opens and displays transactions correctly',
    whyItMatters: 'Users need to see their transaction history. The screen must open correctly.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-WALLET-INFO-001'],
    relatedEdgeCases: ['EC-WALLET-INFO-001'],
    testSteps: [
      {
        step: 1,
        instruction: 'Navigate to wallet info screen',
        detailedSteps: [
          '1. Open wallet screen',
          '2. Tap on the balance card',
        ],
        whatYouShouldSee: 'The wallet info screen opens showing a wallet card background at the top with your balance displayed prominently. The card has a gradient background (usually primary color). Below the card, you see a date picker widget showing today\'s date, and below that is a divider line. Then you see a list of transactions. At the bottom, there is a net total widget showing the calculated total.',
        expectedResult: 'Wallet info screen opens with transactions',
      },
      {
        step: 2,
        instruction: 'Wait for transactions to load',
        detailedSteps: [
          '1. Observe the screen',
          '2. Wait for loading to complete',
        ],
        whatYouShouldSee: 'A loading spinner appears in the center while fetching transactions. Once loaded, transactions appear in a scrollable list. Each transaction shows the date, amount (with + or - sign), description, and other details. Transactions are ordered by date, newest first.',
        expectedResult: 'Transactions load and display correctly',
      },
    ],
    preconditions: [
      'User is logged in',
      'User has wallet with transactions',
      'Network connection is available',
    ],
    testData: 'User wallet with transaction history',
    automatable: true,
    status: 'Not Started',
    notes: 'Transactions should be accurate',
    successChecklist: [
      '✓ Screen opens successfully',
      '✓ Wallet card background is visible',
      '✓ Transactions load successfully',
      '✓ Net total is displayed',
    ],
  },
  {
    id: 'TC-WALLET-INFO-002',
    title: 'Filter Transactions by Date Range',
    whatYoureTesting: 'Verify that date filtering works correctly for transactions',
    whyItMatters: 'Users need to filter transactions by date. Date filtering must work accurately.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-002'],
    relatedEdgeCases: ['EC-WALLET-INFO-002'],
    testSteps: [
      {
        step: 1,
        instruction: 'Tap on date picker widget',
        detailedSteps: [
          '1. Locate the date picker widget above the transaction list',
          '2. Tap on it',
        ],
        whatYouShouldSee: 'A date picker opens allowing you to select a start date and end date. You can see a calendar interface where you can choose dates by tapping on them. The picker shows the current date range selected.',
        expectedResult: 'Date picker opens',
      },
      {
        step: 2,
        instruction: 'Select a different date range',
        detailedSteps: [
          '1. Select a start date (e.g., last week)',
          '2. Select an end date (e.g., today)',
          '3. Confirm the selection',
        ],
        whatYouShouldSee: 'After selecting dates, the date picker closes and shows the selected date range. The transaction list automatically refreshes. A loading indicator appears briefly while fetching filtered transactions. After loading, only transactions within the selected date range are displayed. Transactions outside the range are hidden.',
        expectedResult: 'Transactions are filtered by date range',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User has transactions in different date ranges',
      'Network connection is available',
    ],
    testData: 'Transactions across different dates',
    automatable: false,
    status: 'Not Started',
    notes: 'Date filtering should be accurate',
    successChecklist: [
      '✓ Date picker works correctly',
      '✓ Transactions refresh after date selection',
      '✓ Only transactions in date range are shown',
      '✓ Filtering is accurate',
    ],
  },
  {
    id: 'TC-WALLET-INFO-003',
    title: 'Load More Transactions on Scroll',
    whatYoureTesting: 'Verify that pagination works for transaction list',
    whyItMatters: 'Users may have many transactions. Pagination must work smoothly.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-001'],
    relatedEdgeCases: ['EC-WALLET-INFO-003'],
    testSteps: [
      {
        step: 1,
        instruction: 'Scroll down to bottom of transaction list',
        detailedSteps: [
          '1. View the transaction list',
          '2. Swipe up to scroll down',
          '3. Continue scrolling until you reach the bottom',
        ],
        whatYouShouldSee: 'As you scroll down, when you get close to the bottom, a loading indicator appears at the bottom of the list. It shows that more transactions are being loaded. The indicator appears smoothly without interrupting scrolling.',
        expectedResult: 'Loading indicator appears at bottom',
      },
      {
        step: 2,
        instruction: 'Wait for more transactions to load',
        detailedSteps: [
          '1. Wait for the loading indicator to disappear',
          '2. Check if new transactions appear',
        ],
        whatYouShouldSee: 'After a moment, more transactions appear below the ones you already saw. The new transactions are added to the list seamlessly. You can continue scrolling to see more. The loading indicator disappears once loading is complete.',
        expectedResult: 'More transactions are loaded',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User has more than one page of transactions',
      'Network connection is available',
    ],
    testData: 'Multiple pages of transactions',
    automatable: true,
    status: 'Not Started',
    notes: 'Pagination should work smoothly',
    successChecklist: [
      '✓ Loading indicator appears on scroll',
      '✓ More transactions load automatically',
      '✓ No duplicate transactions',
      '✓ Scrolling remains smooth',
    ],
  },
  {
    id: 'TC-WALLET-INFO-004',
    title: 'View Card Details',
    whatYoureTesting: 'Verify that card details view displays correctly',
    whyItMatters: 'Users need to see their card information. Card details must display correctly.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-003'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'Switch to card details view',
        detailedSteps: [
          '1. Locate the view toggle or card info button',
          '2. Tap to switch from transaction view to card details view',
        ],
        whatYouShouldSee: 'The transaction list disappears and card details appear instead. You see a list showing your full name (if available), card number (formatted with spaces, e.g., "1234 5678 9012 3456"), and a toggle switch for "Set as primary card". Each item is displayed in a clean list format.',
        expectedResult: 'Card details view is displayed',
      },
      {
        step: 2,
        instruction: 'Toggle primary card setting',
        detailedSteps: [
          '1. Locate the "Set as primary card" toggle',
          '2. Tap on it to toggle',
        ],
        whatYouShouldSee: 'The toggle switch changes state (on/off). A brief loading indicator appears while saving the preference. After saving, the toggle remains in the new state.',
        expectedResult: 'Primary card setting is updated',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User has wallet card',
    ],
    testData: 'User wallet card information',
    automatable: true,
    status: 'Not Started',
    notes: 'Card number should be formatted correctly',
    successChecklist: [
      '✓ Card details display correctly',
      '✓ Card number is formatted',
      '✓ Primary card toggle works',
      '✓ Settings are saved',
    ],
  },
  {
    id: 'TC-WALLET-INFO-005',
    title: 'Enter Invoice PIN and Validate',
    whatYoureTesting: 'Verify that entering invoice PIN validates and navigates to invoice details',
    whyItMatters: 'Users need to pay invoices by entering PIN. Validation must work correctly.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-WALLET-INFO-004'],
    relatedEdgeCases: ['EC-WALLET-INFO-004'],
    testSteps: [
      {
        step: 1,
        instruction: 'Enter invoice PIN in bottom input field',
        detailedSteps: [
          '1. Locate the invoice PIN input field at the bottom of the screen',
          '2. Enter 4-digit PIN (e.g., 1234)',
        ],
        whatYouShouldSee: 'As you type each digit, it appears in the input field. The digits are shown clearly. After entering 4 digits, the input field is filled.',
        expectedResult: 'PIN is entered correctly',
      },
      {
        step: 2,
        instruction: 'Tap validate button',
        detailedSteps: [
          '1. Locate the validate button',
          '2. Tap on it',
        ],
        whatYouShouldSee: 'A loading indicator appears while the app checks the invoice with the server. The loading spinner is visible. After a moment, if the invoice is found, you are automatically taken to the invoice details screen. If the invoice is not found, an error message appears.',
        expectedResult: 'Invoice is validated and user navigates to details screen',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User has a valid invoice PIN',
      'Network connection is available',
    ],
    testData: 'Valid invoice PIN/OTP',
    automatable: true,
    status: 'Not Started',
    notes: 'PIN should be exactly 4 digits',
    successChecklist: [
      '✓ PIN is entered correctly',
      '✓ Invoice validation works',
      '✓ Navigation to invoice details works',
    ],
  },
  {
    id: 'TC-WALLET-INFO-006',
    title: 'View Invoice Details',
    whatYoureTesting: 'Verify that invoice details page displays correctly',
    whyItMatters: 'Users need to review invoice before payment. Invoice details must display correctly.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-WALLET-INFO-005'],
    relatedEdgeCases: ['EC-WALLET-INFO-005'],
    testSteps: [
      {
        step: 1,
        instruction: 'Navigate to invoice details page',
        detailedSteps: [
          '1. Enter valid invoice PIN',
          '2. Tap validate',
        ],
        whatYouShouldSee: 'The invoice details screen opens showing an app bar with "Invoice Details" title and back button. Below that, you see the invoice header with invoice number and date. Then there is a details card showing invoice items, subtotal, tax, and total. Below that, you see tip selection options (e.g., 0%, 5%, 10%, 15%). At the bottom, there is a slider button to pay.',
        expectedResult: 'Invoice details page opens',
      },
      {
        step: 2,
        instruction: 'Review invoice information',
        detailedSteps: [
          '1. Check invoice header',
          '2. Review invoice items',
          '3. Check totals',
        ],
        whatYouShouldSee: 'All invoice information is displayed clearly. The invoice number, date, items, prices, subtotal, tax, and total are all visible and readable. The information is well-organized and easy to understand.',
        expectedResult: 'Invoice details are displayed correctly',
      },
    ],
    preconditions: [
      'User has valid invoice PIN',
      'Invoice exists',
      'Network connection is available',
    ],
    testData: 'Valid invoice data',
    automatable: true,
    status: 'Not Started',
    notes: 'All invoice details should be accurate',
    successChecklist: [
      '✓ Invoice details load correctly',
      '✓ All information is displayed',
      '✓ UI is clear and readable',
      '✓ Tip options are available',
    ],
  },
  {
    id: 'TC-WALLET-INFO-007',
    title: 'Select Tip and Pay Invoice',
    whatYoureTesting: 'Verify that tip selection and payment work correctly',
    whyItMatters: 'Users need to pay invoices with tips. Payment flow must work correctly.',
    estimatedTime: '2 minutes',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-WALLET-INFO-006'],
    relatedEdgeCases: ['EC-WALLET-INFO-006'],
    testSteps: [
      {
        step: 1,
        instruction: 'Select a tip amount',
        detailedSteps: [
          '1. View tip options (e.g., 0%, 5%, 10%, 15%)',
          '2. Tap on a tip option (e.g., 10%)',
        ],
        whatYouShouldSee: 'The selected tip option is highlighted or visually selected. The tip amount is saved. The total amount may update to include the tip.',
        expectedResult: 'Tip amount is selected',
      },
      {
        step: 2,
        instruction: 'Slide payment button to pay',
        detailedSteps: [
          '1. Locate the slider button at bottom',
          '2. Slide it to the right to confirm payment',
        ],
        whatYouShouldSee: 'The slider button moves smoothly as you slide it. When you slide it all the way, a loading indicator appears while processing payment. After processing, a success dialog appears showing a happy mascot icon and "Invoice paid" message. After a few seconds, you are redirected to the home screen.',
        expectedResult: 'Payment is processed and success screen is shown',
      },
    ],
    preconditions: [
      'User is on invoice details page',
      'User has wallet with sufficient balance',
      'Network connection is available',
    ],
    testData: 'Valid invoice and sufficient balance',
    automatable: true,
    status: 'Not Started',
    notes: 'Balance should be deducted correctly',
    successChecklist: [
      '✓ Tip selection works',
      '✓ Payment processes successfully',
      '✓ Success screen is displayed',
      '✓ Balance is updated',
      '✓ Navigation works correctly',
    ],
  },
  {
    id: 'TC-WALLET-INFO-008',
    title: 'Handle Invalid Invoice PIN',
    whatYoureTesting: 'Verify that entering invalid PIN shows appropriate error message',
    whyItMatters: 'Users may enter wrong PIN. Error handling must be clear and helpful.',
    estimatedTime: '1 minute',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-004'],
    relatedEdgeCases: ['EC-WALLET-INFO-004'],
    testSteps: [
      {
        step: 1,
        instruction: 'Enter invalid PIN (invoice not found)',
        detailedSteps: [
          '1. Enter 4 digits that do not match any invoice (e.g., 9999)',
          '2. Tap validate button',
          '3. Wait for validation',
        ],
        whatYouShouldSee: 'A loading indicator appears while checking. After a moment, an error message appears saying "Invoice not found" or similar. The message is displayed clearly, and you can try again by entering a different PIN.',
        expectedResult: 'Error message appears for invalid invoice',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'User enters invalid PIN',
      'Network connection is available',
    ],
    testData: 'Invalid invoice PIN/OTP',
    automatable: true,
    status: 'Not Started',
    notes: 'Error messages should be clear',
    successChecklist: [
      '✓ Error message appears for invalid invoice',
      '✓ User can retry after error',
      '✓ Error message is clear',
    ],
  },
  {
    id: 'TC-WALLET-INFO-009',
    title: 'View Net Total Calculation',
    whatYoureTesting: 'Verify that net total displays correctly at bottom',
    whyItMatters: 'Users need to see their net total. The calculation must be accurate.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-WALLET-INFO-007'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'View net total widget at bottom',
        detailedSteps: [
          '1. Scroll to bottom of transaction list',
          '2. Observe the net total widget',
        ],
        whatYouShouldSee: 'At the bottom of the screen, there is a widget showing the net total. It displays the calculated total amount based on all transactions in the current view. The amount is clearly visible and formatted correctly.',
        expectedResult: 'Net total is displayed correctly',
      },
    ],
    preconditions: [
      'Wallet info screen is open',
      'Transactions are loaded',
    ],
    testData: 'Transaction data',
    automatable: true,
    status: 'Not Started',
    notes: 'Net total should be calculated accurately',
    successChecklist: [
      '✓ Net total is displayed',
      '✓ Calculation is accurate',
      '✓ Amount is formatted correctly',
    ],
  },
  {
    id: 'TC-WALLET-INFO-010',
    title: 'Navigate Back with Updated Balance',
    whatYoureTesting: 'Verify that balance updates when navigating back to wallet screen',
    whyItMatters: 'Balance should be synced after changes. Navigation must work correctly.',
    estimatedTime: '30 seconds',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-WALLET-INFO-008'],
    relatedEdgeCases: [],
    testSteps: [
      {
        step: 1,
        instruction: 'Make a change that affects balance (e.g., pay invoice)',
        detailedSteps: [
          '1. Pay an invoice from wallet info screen',
          '2. Complete payment',
        ],
        whatYouShouldSee: 'Payment is processed successfully. Balance is deducted.',
        expectedResult: 'Balance changes',
      },
      {
        step: 2,
        instruction: 'Navigate back to wallet screen',
        detailedSteps: [
          '1. Tap back button',
          '2. Return to wallet screen',
        ],
        whatYouShouldSee: 'You navigate back to the wallet screen. The balance card shows the updated balance amount. The balance reflects the changes made in the wallet info screen.',
        expectedResult: 'Balance is updated in wallet screen',
      },
    ],
    preconditions: [
      'User is on wallet info screen',
      'Balance has changed',
    ],
    testData: 'Updated balance',
    automatable: true,
    status: 'Not Started',
    notes: 'Balance should sync correctly',
    successChecklist: [
      '✓ Navigation works correctly',
      '✓ Balance updates properly',
      '✓ Data syncs correctly',
    ],
  },
];

