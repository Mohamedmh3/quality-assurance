import type { TestCase } from '@/lib/types';

export const orderRatingTestCases: TestCase[] = [
  {
    id: 'TC-ORDER-RATING-001',
    title: 'Open Order Rating Screen After Completing Order',
    whatYoureTesting: 'Making sure customers can open the rating screen after their order is completed',
    whyItMatters: 'Customers need to rate their orders to help improve service. If they cannot open the rating screen, they cannot provide feedback.',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-ORDER-RATING-001'],
    relatedEdgeCases: ['EC-ORDER-RATING-001'],
    testSteps: [
      {
        step: 1,
        instruction: 'Complete an order first',
        detailedSteps: [
          '1. Place an order from any restaurant',
          '2. Wait for the order to be completed (delivered or picked up)',
          '3. You should see a button or notification to rate your order',
        ],
        whatYouShouldSee: 'A button saying "Rate Order" or "Rate Your Experience" appears on the order details screen',
        expectedResult: 'Rating option is available after order completion',
      },
      {
        step: 2,
        instruction: 'Tap to open the rating screen',
        detailedSteps: [
          '1. Tap on the "Rate Order" button or notification',
          '2. Wait for the rating screen to load',
          '3. You might see a loading spinner for a few seconds',
        ],
        whatYouShouldSee: 'A new screen opens showing: restaurant logo and name at the top, star rating widget in the middle, and empty options below',
        expectedResult: 'Rating screen opens and loads successfully',
      },
      {
        step: 3,
        instruction: 'Check that restaurant information is shown',
        detailedSteps: [
          '1. Look at the top of the screen',
          '2. You should see the restaurant logo (circular image)',
          '3. Below it, you should see the restaurant name',
        ],
        whatYouShouldSee: 'Restaurant logo is displayed in a circular frame, and restaurant name is shown clearly below it',
        expectedResult: 'Restaurant information is displayed correctly',
      },
    ],
    preconditions: [
      'You have completed an order',
      'Order is in a rateable state',
      'You are logged in',
    ],
    testData: 'Any completed order',
    automatable: true,
    status: 'Not Started',
    notes: 'Rating screen may open automatically after order completion in some cases.',
    successChecklist: [
      '✓ Rating screen opens without errors',
      '✓ Restaurant logo and name are displayed',
      '✓ Star rating widget is visible',
      '✓ Screen loads within 3-5 seconds',
    ],
  },
  {
    id: 'TC-ORDER-RATING-002',
    title: 'Select Star Rating for Restaurant',
    whatYoureTesting: 'Making sure customers can tap on stars to rate the restaurant',
    whyItMatters: 'Star rating is the main way customers express their satisfaction. If stars do not work, customers cannot rate.',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-ORDER-RATING-002'],
    relatedEdgeCases: ['EC-ORDER-RATING-003'],
    testSteps: [
      {
        step: 1,
        instruction: 'Open the rating screen',
        detailedSteps: [
          '1. Complete an order and open the rating screen',
          '2. Look for the star rating widget (5 stars in a row)',
          '3. The stars should be empty or gray',
        ],
        whatYouShouldSee: 'Five stars displayed in a row, all empty or gray, waiting for you to tap them',
        expectedResult: 'Star rating widget is visible and ready',
      },
      {
        step: 2,
        instruction: 'Tap on different stars',
        detailedSteps: [
          '1. Tap on the first star (leftmost)',
          '2. Watch it turn yellow or gold',
          '3. Tap on the third star',
          '4. Watch the first three stars turn yellow',
          '5. Tap on the fifth star',
          '6. Watch all five stars turn yellow',
        ],
        whatYouShouldSee: 'Stars turn yellow or gold when tapped. The number of yellow stars matches which star you tapped (tap star 3 = 3 stars turn yellow)',
        expectedResult: 'Star selection works correctly',
      },
      {
        step: 3,
        instruction: 'Check that rating options appear after selecting stars',
        detailedSteps: [
          '1. After tapping stars, look below the star widget',
          '2. You should see a title appear (like "What went wrong?" or "What was great?")',
          '3. Below that, you should see a list of options',
        ],
        whatYouShouldSee: 'A title appears describing the rating type, and below it, a list of clickable options appears (like "Food was cold", "Long wait time", etc.)',
        expectedResult: 'Rating options appear based on star selection',
      },
    ],
    preconditions: [
      'Rating screen is open',
      'Restaurant rating section is displayed',
    ],
    testData: 'Any order with rating available',
    automatable: true,
    status: 'Not Started',
    notes: 'Different star values show different options: 1-2 stars = bad options, 3 stars = neutral, 4-5 stars = good options.',
    successChecklist: [
      '✓ Stars turn yellow when tapped',
      '✓ Correct number of stars are highlighted',
      '✓ Rating type title appears',
      '✓ Options list appears below stars',
    ],
  },
  {
    id: 'TC-ORDER-RATING-003',
    title: 'Select Rating Options',
    whatYoureTesting: 'Making sure customers can select one or more reasons for their rating',
    whyItMatters: 'Options help explain why customers gave a certain rating. This feedback helps restaurants improve.',
    estimatedTime: '3-4 minutes',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-ORDER-RATING-003'],
    relatedEdgeCases: ['EC-ORDER-RATING-004'],
    testSteps: [
      {
        step: 1,
        instruction: 'Select a star rating first',
        detailedSteps: [
          '1. Tap on stars to select a rating (try 2 stars for bad rating)',
          '2. Wait for options to appear',
          '3. Look at the list of options below',
        ],
        whatYouShouldSee: 'A list of options appears, each with a checkbox or button next to it (like "Food was cold", "Wrong order", "Long wait time")',
        expectedResult: 'Options list is displayed',
      },
      {
        step: 2,
        instruction: 'Tap on an option to select it',
        detailedSteps: [
          '1. Tap on any option in the list',
          '2. Watch it get highlighted or checked',
          '3. Tap on another option',
          '4. Watch both options stay selected',
        ],
        whatYouShouldSee: 'Selected options are highlighted (usually with a colored background or checkmark). Multiple options can be selected at once.',
        expectedResult: 'Options can be selected and deselected',
      },
      {
        step: 3,
        instruction: 'Deselect an option',
        detailedSteps: [
          '1. Tap on an already selected option',
          '2. Watch it become unselected',
          '3. The highlight or checkmark should disappear',
        ],
        whatYouShouldSee: 'The option becomes unselected, losing its highlight or checkmark',
        expectedResult: 'Options can be deselected by tapping again',
      },
    ],
    preconditions: [
      'Star rating is selected',
      'Options list is displayed',
    ],
    testData: 'Any order with rating options',
    automatable: true,
    status: 'Not Started',
    notes: 'Some options may require sub-options or dish selection - test those separately.',
    successChecklist: [
      '✓ Options can be selected',
      '✓ Multiple options can be selected',
      '✓ Options can be deselected',
      '✓ Selected options are visually indicated',
    ],
  },
  {
    id: 'TC-ORDER-RATING-004',
    title: 'Add Notes to Rating',
    whatYoureTesting: 'Making sure customers can write additional comments about their experience',
    whyItMatters: 'Notes provide detailed feedback that helps restaurants understand what went well or wrong',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-ORDER-RATING-004'],
    relatedEdgeCases: ['EC-ORDER-RATING-005'],
    testSteps: [
      {
        step: 1,
        instruction: 'Select stars and options first',
        detailedSteps: [
          '1. Select a star rating',
          '2. Select at least one option',
          '3. Scroll down to find the notes field',
        ],
        whatYouShouldSee: 'A text box appears below the options with placeholder text like "Your notes" or "Additional comments"',
        expectedResult: 'Notes field is visible',
      },
      {
        step: 2,
        instruction: 'Type in the notes field',
        detailedSteps: [
          '1. Tap on the notes text box',
          '2. Type some text (like "The food was great but delivery was slow")',
          '3. Watch the text appear as you type',
        ],
        whatYouShouldSee: 'Text appears in the notes field as you type. The field expands if you type multiple lines.',
        expectedResult: 'Notes can be entered',
      },
      {
        step: 3,
        instruction: 'Check if notes are required',
        detailedSteps: [
          '1. If you selected an option that requires notes, try submitting without notes',
          '2. You should see an error message',
          '3. Type notes and try again',
        ],
        whatYouShouldSee: 'If notes are required, an error message appears saying "Required" when you try to submit without notes',
        expectedResult: 'Required notes validation works',
      },
    ],
    preconditions: [
      'Star rating and options are selected',
      'Notes field is visible',
    ],
    testData: 'Any order with rating',
    automatable: false,
    status: 'Not Started',
    notes: 'Notes are optional unless an option requires them.',
    successChecklist: [
      '✓ Notes field is visible',
      '✓ Text can be entered',
      '✓ Required notes show validation error',
      '✓ Notes are saved with rating',
    ],
  },
  {
    id: 'TC-ORDER-RATING-005',
    title: 'Upload Images with Rating',
    whatYoureTesting: 'Making sure customers can add photos to their rating',
    whyItMatters: 'Photos help show exactly what went wrong or right, making feedback more useful',
    estimatedTime: '3-4 minutes',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-ORDER-RATING-005'],
    relatedEdgeCases: ['EC-ORDER-RATING-006', 'EC-ORDER-RATING-010'],
    testSteps: [
      {
        step: 1,
        instruction: 'Find the upload image button',
        detailedSteps: [
          '1. Scroll down on the rating screen',
          '2. Look for a button that says "Upload Image" or has a camera/gallery icon',
          '3. The button should be below the notes field',
        ],
        whatYouShouldSee: 'A button with text "Upload Image" and possibly a camera or image icon next to it',
        expectedResult: 'Upload image button is visible',
      },
      {
        step: 2,
        instruction: 'Tap the upload button',
        detailedSteps: [
          '1. Tap on the "Upload Image" button',
          '2. A menu or dialog should appear',
          '3. You should see options like "Camera" and "Gallery"',
        ],
        whatYouShouldSee: 'A menu appears asking if you want to take a photo or choose from gallery',
        expectedResult: 'Image picker opens',
      },
      {
        step: 3,
        instruction: 'Select an image',
        detailedSteps: [
          '1. Choose "Gallery" or "Camera"',
          '2. Select or take a photo',
          '3. Wait for the image to upload',
        ],
        whatYouShouldSee: 'The image appears below the upload button, showing a thumbnail of what you selected',
        expectedResult: 'Image is uploaded and displayed',
      },
    ],
    preconditions: [
      'Rating screen is open',
      'Device has camera/gallery access',
    ],
    testData: 'Any order with rating',
    automatable: false,
    status: 'Not Started',
    notes: 'Some options may require image upload - test that scenario separately.',
    successChecklist: [
      '✓ Upload button is visible',
      '✓ Image picker opens',
      '✓ Images can be selected',
      '✓ Images are displayed after upload',
    ],
  },
  {
    id: 'TC-ORDER-RATING-006',
    title: 'Submit Restaurant Rating and Go to Driver Rating',
    whatYoureTesting: 'Making sure customers can complete restaurant rating and move to driver rating',
    whyItMatters: 'Customers need to rate both restaurant and driver. The flow must be smooth.',
    estimatedTime: '3-4 minutes',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-ORDER-RATING-006'],
    relatedEdgeCases: ['EC-ORDER-RATING-007'],
    testSteps: [
      {
        step: 1,
        instruction: 'Complete restaurant rating',
        detailedSteps: [
          '1. Select star rating for restaurant',
          '2. Select at least one option',
          '3. Optionally add notes or images',
          '4. Look for the "Next" button at the bottom',
        ],
        whatYouShouldSee: 'A button at the bottom saying "Next" (if driver rating is available) or "Send" (if driver rating is not available)',
        expectedResult: 'Submit button is visible',
      },
      {
        step: 2,
        instruction: 'Tap the Next button',
        detailedSteps: [
          '1. Tap on "Next" button',
          '2. Wait for the screen to change',
          '3. You should see driver rating screen',
        ],
        whatYouShouldSee: 'The screen changes to show driver rating instead of restaurant rating. The layout is similar but now shows driver information.',
        expectedResult: 'Screen transitions to driver rating',
      },
      {
        step: 3,
        instruction: 'Verify restaurant rating data is saved',
        detailedSteps: [
          '1. Press back button',
          '2. You should return to restaurant rating',
          '3. Check that your selections are still there',
        ],
        whatYouShouldSee: 'When you go back, all your restaurant rating selections (stars, options, notes) are still there',
        expectedResult: 'Restaurant rating data is preserved',
      },
    ],
    preconditions: [
      'Restaurant rating is completed',
      'Driver rating is available',
    ],
    testData: 'Order with both restaurant and driver rating',
    automatable: true,
    status: 'Not Started',
    notes: 'If driver rating is not available, button shows "Send" and submits immediately.',
    successChecklist: [
      '✓ Next button appears when driver rating available',
      '✓ Screen transitions smoothly',
      '✓ Restaurant rating data is preserved',
      '✓ Driver rating screen loads correctly',
    ],
  },
  {
    id: 'TC-ORDER-RATING-007',
    title: 'Submit Complete Rating (Restaurant and Driver)',
    whatYoureTesting: 'Making sure customers can submit both restaurant and driver ratings together',
    whyItMatters: 'This is the final step - if submission fails, customers cannot complete their feedback',
    estimatedTime: '3-4 minutes',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-ORDER-RATING-007'],
    relatedEdgeCases: ['EC-ORDER-RATING-002'],
    testSteps: [
      {
        step: 1,
        instruction: 'Complete both restaurant and driver ratings',
        detailedSteps: [
          '1. Complete restaurant rating and tap Next',
          '2. Complete driver rating (select stars, options, notes)',
          '3. Look for the "Send" button at the bottom',
        ],
        whatYouShouldSee: 'A button at the bottom saying "Send" or "Submit"',
        expectedResult: 'Send button is visible',
      },
      {
        step: 2,
        instruction: 'Tap Send button',
        detailedSteps: [
          '1. Tap on "Send" button',
          '2. A loading indicator should appear',
          '3. Wait for submission to complete',
        ],
        whatYouShouldSee: 'A spinning circle or loading indicator appears, and the button may be disabled during submission',
        expectedResult: 'Rating is being submitted',
      },
      {
        step: 3,
        instruction: 'Wait for success message',
        detailedSteps: [
          '1. Wait 3-5 seconds for submission',
          '2. A success dialog should appear',
          '3. If both ratings are 4+ stars, app rating prompt may appear',
        ],
        whatYouShouldSee: 'A dialog appears saying "Thank you for your rating" or similar. If both ratings are 4+ stars, you may also see a prompt asking you to rate the app.',
        expectedResult: 'Success dialog appears and rating is submitted',
      },
    ],
    preconditions: [
      'Both restaurant and driver ratings are completed',
      'All required fields are filled',
    ],
    testData: 'Order with both ratings',
    automatable: true,
    status: 'Not Started',
    notes: 'App rating prompt only appears if both ratings are 4+ stars.',
    successChecklist: [
      '✓ Send button works',
      '✓ Loading indicator shows during submission',
      '✓ Success dialog appears',
      '✓ App rating prompt appears if applicable',
      '✓ Screen closes after success',
    ],
  },
  {
    id: 'TC-ORDER-RATING-008',
    title: 'Validation Error When Star Rating Not Selected',
    whatYoureTesting: 'Making sure the app prevents submission without selecting stars',
    whyItMatters: 'Star rating is required - customers must select stars before submitting',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-ORDER-RATING-006'],
    relatedEdgeCases: ['EC-ORDER-RATING-003'],
    testSteps: [
      {
        step: 1,
        instruction: 'Open rating screen but do not select stars',
        detailedSteps: [
          '1. Open the rating screen',
          '2. Do not tap on any stars',
          '3. Look at the Send/Next button',
        ],
        whatYouShouldSee: 'The Send/Next button is grayed out or disabled, or shows a different color indicating it cannot be clicked',
        expectedResult: 'Submit button is disabled',
      },
      {
        step: 2,
        instruction: 'Try to tap the button anyway',
        detailedSteps: [
          '1. Try tapping the Send/Next button',
          '2. If it is disabled, nothing happens',
          '3. If it is enabled, an error message should appear',
        ],
        whatYouShouldSee: 'Either the button does nothing (if disabled) or an error message appears saying you must select a rating',
        expectedResult: 'Submission is prevented without star selection',
      },
      {
        step: 3,
        instruction: 'Select stars and try again',
        detailedSteps: [
          '1. Tap on any star rating',
          '2. The button should become enabled',
          '3. Now you can tap it',
        ],
        whatYouShouldSee: 'After selecting stars, the button becomes enabled and changes color, indicating you can now submit',
        expectedResult: 'Button enables after star selection',
      },
    ],
    preconditions: [
      'Rating screen is open',
      'No star rating is selected',
    ],
    testData: 'Any order',
    automatable: true,
    status: 'Not Started',
    notes: 'Validation should be clear and prevent submission without required fields.',
    successChecklist: [
      '✓ Button is disabled without stars',
      '✓ Error message appears if trying to submit',
      '✓ Button enables after selecting stars',
    ],
  },
  {
    id: 'TC-ORDER-RATING-009',
    title: 'Validation Error When Required Options Not Selected',
    whatYoureTesting: 'Making sure the app prevents submission when required options are not selected',
    whyItMatters: 'Some rating types require selecting at least one option - this must be enforced',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-ORDER-RATING-006'],
    relatedEdgeCases: ['EC-ORDER-RATING-004'],
    testSteps: [
      {
        step: 1,
        instruction: 'Select stars but not options',
        detailedSteps: [
          '1. Select a star rating (try 2 stars for bad rating)',
          '2. Options list appears',
          '3. Do not select any options',
          '4. Try to tap Next/Send button',
        ],
        whatYouShouldSee: 'If options are required, the options list border turns red, and an error may appear',
        expectedResult: 'Validation error appears',
      },
      {
        step: 2,
        instruction: 'Select an option and check error disappears',
        detailedSteps: [
          '1. Tap on any option in the list',
          '2. Watch the red border disappear',
          '3. The button should become enabled',
        ],
        whatYouShouldSee: 'After selecting an option, the red border disappears and the button becomes enabled',
        expectedResult: 'Validation error clears after selecting option',
      },
    ],
    preconditions: [
      'Star rating is selected',
      'Options are required for this rating type',
      'No options are selected',
    ],
    testData: 'Order with rating that requires options',
    automatable: true,
    status: 'Not Started',
    notes: 'Not all rating types require options - only test with types that have selectionRequired=true.',
    successChecklist: [
      '✓ Red border appears when options required but not selected',
      '✓ Button is disabled',
      '✓ Error clears after selecting option',
    ],
  },
  {
    id: 'TC-ORDER-RATING-010',
    title: 'Handle Rating Load Failure',
    whatYoureTesting: 'Making sure the app handles errors gracefully when rating options fail to load',
    whyItMatters: 'Network issues happen - the app must show helpful error messages and allow retry',
    estimatedTime: '3-4 minutes',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-ORDER-RATING-009'],
    relatedEdgeCases: ['EC-ORDER-RATING-001'],
    testSteps: [
      {
        step: 1,
        instruction: 'Simulate network failure',
        detailedSteps: [
          '1. Turn off WiFi and mobile data',
          '2. Open the rating screen',
          '3. Wait for it to try loading',
        ],
        whatYouShouldSee: 'A loading indicator appears, then an error message appears saying something went wrong',
        expectedResult: 'Error is shown instead of crashing',
      },
      {
        step: 2,
        instruction: 'Check error message and retry button',
        detailedSteps: [
          '1. Look for an error message',
          '2. Look for a "Retry" button',
          '3. The error should be clear and helpful',
        ],
        whatYouShouldSee: 'An error message appears (like "Something went wrong" or "Failed to load rating options") with a Retry button below it',
        expectedResult: 'Error message and retry option are shown',
      },
      {
        step: 3,
        instruction: 'Retry loading',
        detailedSteps: [
          '1. Turn WiFi or mobile data back on',
          '2. Tap the Retry button',
          '3. Wait for rating options to load',
        ],
        whatYouShouldSee: 'Loading indicator appears again, then rating options load successfully',
        expectedResult: 'Retry works and rating loads successfully',
      },
    ],
    preconditions: [
      'Order is completed',
      'Network can be disabled',
    ],
    testData: 'Any order',
    automatable: false,
    status: 'Not Started',
    notes: 'Test with both WiFi off and mobile data off to ensure error handling works.',
    successChecklist: [
      '✓ Error message is shown',
      '✓ Retry button is available',
      '✓ Retry works after fixing network',
      '✓ App does not crash',
    ],
  },
  {
    id: 'TC-ORDER-RATING-011',
    title: 'Handle Rating Submission Failure',
    whatYoureTesting: 'Making sure the app handles errors when rating submission fails',
    whyItMatters: 'Submission can fail due to network issues - customers should be able to retry without losing their rating',
    estimatedTime: '3-4 minutes',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-ORDER-RATING-010'],
    relatedEdgeCases: ['EC-ORDER-RATING-002'],
    testSteps: [
      {
        step: 1,
        instruction: 'Complete rating and prepare to submit',
        detailedSteps: [
          '1. Fill out restaurant and driver ratings',
          '2. Select stars, options, add notes',
          '3. Turn off network connection',
          '4. Tap Send button',
        ],
        whatYouShouldSee: 'Loading indicator appears, then an error dialog appears saying submission failed',
        expectedResult: 'Error dialog appears',
      },
      {
        step: 2,
        instruction: 'Check error message',
        detailedSteps: [
          '1. Read the error message',
          '2. Look for OK or Close button',
          '3. Tap OK to dismiss',
        ],
        whatYouShouldSee: 'An error dialog appears with a message like "Failed to submit rating" or "Network error" with an OK button',
        expectedResult: 'Error message is clear',
      },
      {
        step: 3,
        instruction: 'Retry submission',
        detailedSteps: [
          '1. Turn network back on',
          '2. Check that your rating data is still there',
          '3. Tap Send button again',
        ],
        whatYouShouldSee: 'All your rating selections are still there (stars, options, notes). After tapping Send, submission succeeds',
        expectedResult: 'Rating data is preserved and retry works',
      },
    ],
    preconditions: [
      'Rating is completed',
      'Network can be disabled',
    ],
    testData: 'Any order',
    automatable: false,
    status: 'Not Started',
    notes: 'Rating data must be preserved even if submission fails.',
    successChecklist: [
      '✓ Error dialog appears on failure',
      '✓ Rating data is preserved',
      '✓ Retry works after fixing network',
      '✓ Success appears on retry',
    ],
  },
  {
    id: 'TC-ORDER-RATING-012',
    title: 'Navigate Between Restaurant and Driver Rating Tabs',
    whatYoureTesting: 'Making sure customers can switch between restaurant and driver rating screens',
    whyItMatters: 'Customers need to rate both - navigation between tabs must be smooth',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-ORDER-RATING-008'],
    relatedEdgeCases: ['EC-ORDER-RATING-014'],
    testSteps: [
      {
        step: 1,
        instruction: 'Complete restaurant rating and go to driver rating',
        detailedSteps: [
          '1. Select restaurant stars and options',
          '2. Tap Next button',
          '3. Driver rating screen appears',
        ],
        whatYouShouldSee: 'Screen changes to show driver rating instead of restaurant rating',
        expectedResult: 'Navigation to driver rating works',
      },
      {
        step: 2,
        instruction: 'Press back button on driver rating',
        detailedSteps: [
          '1. Press the back button (top left or system back)',
          '2. You should return to restaurant rating',
        ],
        whatYouShouldSee: 'Screen goes back to restaurant rating, and all your restaurant selections are still there',
        expectedResult: 'Back button returns to restaurant rating',
      },
      {
        step: 3,
        instruction: 'Press back button on restaurant rating',
        detailedSteps: [
          '1. Press back button again',
          '2. Rating screen should close',
        ],
        whatYouShouldSee: 'Rating screen closes and you return to the previous screen (order details)',
        expectedResult: 'Back button closes rating screen',
      },
    ],
    preconditions: [
      'Both restaurant and driver ratings are available',
      'Rating screen is open',
    ],
    testData: 'Order with both ratings',
    automatable: true,
    status: 'Not Started',
    notes: 'Back button behavior changes based on which tab you are on.',
    successChecklist: [
      '✓ Next button navigates to driver rating',
      '✓ Back on driver returns to restaurant',
      '✓ Back on restaurant closes screen',
      '✓ Data is preserved when switching tabs',
    ],
  },
  {
    id: 'TC-ORDER-RATING-013',
    title: 'App Rating Prompt Appears After High Ratings',
    whatYoureTesting: 'Making sure the app asks customers to rate the app when they give high ratings (4+ stars) to both restaurant and driver',
    whyItMatters: 'This helps get more app store reviews, which improves app visibility and credibility',
    estimatedTime: '3-4 minutes',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-ORDER-RATING-007'],
    relatedEdgeCases: ['EC-ORDER-RATING-016'],
    testSteps: [
      {
        step: 1,
        instruction: 'Complete rating with high stars for both',
        detailedSteps: [
          '1. Rate restaurant with 5 stars',
          '2. Select options and complete restaurant rating',
          '3. Tap Next to go to driver rating',
          '4. Rate driver with 5 stars',
          '5. Complete driver rating',
          '6. Tap Send to submit',
        ],
        whatYouShouldSee: 'After successful submission, a success dialog appears',
        expectedResult: 'Rating is submitted successfully',
      },
      {
        step: 2,
        instruction: 'Check if app rating prompt appears',
        detailedSteps: [
          '1. After success dialog, wait a moment',
          '2. An app rating prompt should appear',
          '3. It asks you to rate the app in the app store',
        ],
        whatYouShouldSee: 'A dialog or bottom sheet appears asking you to rate the app, with options like "Rate Now" or "Maybe Later"',
        expectedResult: 'App rating prompt appears when both ratings are 4+ stars',
      },
    ],
    preconditions: [
      'Both restaurant and driver ratings are available',
      'You give 4 or 5 stars to both',
    ],
    testData: 'Order with both ratings, give 4+ stars to both',
    automatable: false,
    status: 'Not Started',
    notes: 'App rating prompt only appears if both ratings are 4+ stars. If one is less than 4, prompt does not appear.',
    successChecklist: [
      '✓ Success dialog appears first',
      '✓ App rating prompt appears after success',
      '✓ Prompt can be dismissed',
      '✓ Rating submission succeeds regardless of prompt',
    ],
  },
  {
    id: 'TC-ORDER-RATING-014',
    title: 'App Rating Prompt Does Not Appear for Low Ratings',
    whatYoureTesting: 'Making sure the app does not ask for app rating when customers give low ratings',
    whyItMatters: 'We should only ask for app rating when customers are happy, not when they had a bad experience',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-ORDER-RATING-007'],
    relatedEdgeCases: ['EC-ORDER-RATING-016'],
    testSteps: [
      {
        step: 1,
        instruction: 'Complete rating with low stars',
        detailedSteps: [
          '1. Rate restaurant with 2 stars',
          '2. Complete restaurant rating',
          '3. Rate driver with 3 stars',
          '4. Complete driver rating',
          '5. Tap Send to submit',
        ],
        whatYouShouldSee: 'Success dialog appears after submission',
        expectedResult: 'Rating is submitted successfully',
      },
      {
        step: 2,
        instruction: 'Check that app rating prompt does not appear',
        detailedSteps: [
          '1. After success dialog, wait 5-10 seconds',
          '2. No app rating prompt should appear',
          '3. Only the success dialog is shown',
        ],
        whatYouShouldSee: 'Only the success dialog appears. No app rating prompt shows up.',
        expectedResult: 'App rating prompt does not appear for low ratings',
      },
    ],
    preconditions: [
      'Both restaurant and driver ratings are available',
      'You give less than 4 stars to at least one',
    ],
    testData: 'Order with both ratings, give low stars',
    automatable: false,
    status: 'Not Started',
    notes: 'App rating prompt only appears if BOTH ratings are 4+ stars.',
    successChecklist: [
      '✓ Success dialog appears',
      '✓ App rating prompt does NOT appear',
      '✓ Screen closes normally',
    ],
  },
  {
    id: 'TC-ORDER-RATING-015',
    title: 'Select Sub-Options for Rating Options',
    whatYoureTesting: 'Making sure customers can select sub-options when an option has them (like selecting specific reasons)',
    whyItMatters: 'Sub-options provide more detailed feedback, helping restaurants understand exactly what went wrong or right',
    estimatedTime: '3-4 minutes',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-ORDER-RATING-003'],
    relatedEdgeCases: ['EC-ORDER-RATING-019'],
    testSteps: [
      {
        step: 1,
        instruction: 'Select an option that has sub-options',
        detailedSteps: [
          '1. Select a star rating',
          '2. Look for an option that might have sub-options (usually shown with an arrow or expand icon)',
          '3. Tap on that option to select it',
        ],
        whatYouShouldSee: 'A bottom sheet or expanded section appears showing sub-options (like "Food was cold", "Food was burnt", etc.)',
        expectedResult: 'Sub-options bottom sheet appears',
      },
      {
        step: 2,
        instruction: 'Select a sub-option',
        detailedSteps: [
          '1. Look at the list of sub-options',
          '2. Tap on one sub-option',
          '3. Watch it get selected',
          '4. The bottom sheet may close automatically',
        ],
        whatYouShouldSee: 'The sub-option is highlighted or checked, and it appears below the main option',
        expectedResult: 'Sub-option is selected',
      },
      {
        step: 3,
        instruction: 'Change sub-option selection',
        detailedSteps: [
          '1. Tap on the option again to open sub-options',
          '2. Select a different sub-option',
          '3. The previous sub-option should be deselected',
        ],
        whatYouShouldSee: 'Only one sub-option is selected at a time. Selecting a new one replaces the old one.',
        expectedResult: 'Only one sub-option per option is allowed',
      },
    ],
    preconditions: [
      'Star rating is selected',
      'An option with sub-options is available',
    ],
    testData: 'Order with rating options that have sub-options',
    automatable: false,
    status: 'Not Started',
    notes: 'Not all options have sub-options. Only test with options that have subOptions array.',
    successChecklist: [
      '✓ Sub-options bottom sheet appears',
      '✓ Sub-options can be selected',
      '✓ Only one sub-option per option',
      '✓ Selected sub-option is displayed',
    ],
  },
  {
    id: 'TC-ORDER-RATING-016',
    title: 'Select Dishes for Sub-Option',
    whatYoureTesting: 'Making sure customers can select specific dishes when a sub-option requires dish selection',
    whyItMatters: 'This helps restaurants know exactly which dishes had problems, making feedback more actionable',
    estimatedTime: '3-4 minutes',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-ORDER-RATING-003'],
    relatedEdgeCases: ['EC-ORDER-RATING-012', 'EC-ORDER-RATING-020'],
    testSteps: [
      {
        step: 1,
        instruction: 'Select option and sub-option that requires dish selection',
        detailedSteps: [
          '1. Select a star rating',
          '2. Select an option',
          '3. Select a sub-option that requires dish selection',
          '4. Look for a section showing dishes from your order',
        ],
        whatYouShouldSee: 'A section appears showing "Which dishes are having problems?" with a horizontal list of dish cards',
        expectedResult: 'Dish selection section appears',
      },
      {
        step: 2,
        instruction: 'Select a dish',
        detailedSteps: [
          '1. Scroll through the dish cards horizontally',
          '2. Tap on one dish card',
          '3. Watch it get selected (highlighted or checked)',
        ],
        whatYouShouldSee: 'The dish card is highlighted or shows a checkmark, indicating it is selected',
        expectedResult: 'Dish is selected',
      },
      {
        step: 3,
        instruction: 'Select a different dish',
        detailedSteps: [
          '1. Tap on a different dish',
          '2. The previous dish should be deselected',
          '3. Only the new dish is selected',
        ],
        whatYouShouldSee: 'Only one dish can be selected at a time. Selecting a new dish replaces the previous selection.',
        expectedResult: 'Only one dish per sub-option is allowed',
      },
    ],
    preconditions: [
      'Option and sub-option are selected',
      'Sub-option requires dish selection',
      'Order has dishes',
    ],
    testData: 'Order with multiple dishes and sub-option requiring dish selection',
    automatable: false,
    status: 'Not Started',
    notes: 'Not all sub-options require dish selection. Only test with sub-options that have dishes available.',
    successChecklist: [
      '✓ Dish selection section appears',
      '✓ Dishes can be selected',
      '✓ Only one dish per sub-option',
      '✓ Selected dish is displayed',
    ],
  },
  {
    id: 'TC-ORDER-RATING-017',
    title: 'Validation Error When Required Notes Not Provided',
    whatYoureTesting: 'Making sure the app prevents submission when notes are required but not provided',
    whyItMatters: 'Some options require detailed feedback - customers must provide notes before submitting',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-ORDER-RATING-004'],
    relatedEdgeCases: ['EC-ORDER-RATING-005'],
    testSteps: [
      {
        step: 1,
        instruction: 'Select option that requires notes',
        detailedSteps: [
          '1. Select a star rating',
          '2. Select an option that requires notes (noteRequired=true)',
          '3. Do not type anything in the notes field',
          '4. Try to tap Next/Send button',
        ],
        whatYouShouldSee: 'An error message appears in the notes field saying "Required"',
        expectedResult: 'Validation error appears',
      },
      {
        step: 2,
        instruction: 'Type notes and check error disappears',
        detailedSteps: [
          '1. Type some text in the notes field',
          '2. The error message should disappear',
          '3. Now you can submit',
        ],
        whatYouShouldSee: 'After typing notes, the error disappears and the button becomes enabled',
        expectedResult: 'Validation error clears after providing notes',
      },
    ],
    preconditions: [
      'Star rating and option are selected',
      'Option has noteRequired=true',
      'Notes field is empty',
    ],
    testData: 'Order with option that requires notes',
    automatable: true,
    status: 'Not Started',
    notes: 'Not all options require notes - only test with options that have noteRequired=true.',
    successChecklist: [
      '✓ Error message appears when notes required but empty',
      '✓ Button is disabled',
      '✓ Error clears after typing notes',
    ],
  },
  {
    id: 'TC-ORDER-RATING-018',
    title: 'Validation Error When Required Images Not Uploaded',
    whatYoureTesting: 'Making sure the app prevents submission when images are required but not uploaded',
    whyItMatters: 'Some options require photo evidence - customers must upload images before submitting',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P0',
    relatedUseCases: ['UC-ORDER-RATING-005'],
    relatedEdgeCases: ['EC-ORDER-RATING-006'],
    testSteps: [
      {
        step: 1,
        instruction: 'Select option that requires images',
        detailedSteps: [
          '1. Select a star rating',
          '2. Select an option that requires images (withImage=true)',
          '3. Do not upload any images',
          '4. Try to tap Next/Send button',
        ],
        whatYouShouldSee: 'An error dialog appears saying "Image upload is required" or similar',
        expectedResult: 'Validation error dialog appears',
      },
      {
        step: 2,
        instruction: 'Upload image and try again',
        detailedSteps: [
          '1. Tap OK to dismiss the error',
          '2. Tap Upload Image button',
          '3. Select at least one image',
          '4. Try submitting again',
        ],
        whatYouShouldSee: 'After uploading image, submission works without error',
        expectedResult: 'Validation passes after uploading image',
      },
    ],
    preconditions: [
      'Star rating and option are selected',
      'Option has withImage=true',
      'No images are uploaded',
    ],
    testData: 'Order with option that requires images',
    automatable: false,
    status: 'Not Started',
    notes: 'Not all options require images - only test with options that have withImage=true.',
    successChecklist: [
      '✓ Error dialog appears when images required but not uploaded',
      '✓ Submission is prevented',
      '✓ Submission works after uploading image',
    ],
  },
  {
    id: 'TC-ORDER-RATING-019',
    title: 'Submit Rating When Driver Rating Not Available',
    whatYoureTesting: 'Making sure customers can submit rating immediately when driver rating is not available (pickup orders)',
    whyItMatters: 'Pickup orders do not have drivers - the app must handle this correctly',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-ORDER-RATING-006'],
    relatedEdgeCases: ['EC-ORDER-RATING-007'],
    testSteps: [
      {
        step: 1,
        instruction: 'Open rating for pickup order',
        detailedSteps: [
          '1. Complete a pickup order (not delivery)',
          '2. Open the rating screen',
          '3. Complete restaurant rating',
          '4. Look at the button at the bottom',
        ],
        whatYouShouldSee: 'The button says "Send" instead of "Next" (because driver rating is not available)',
        expectedResult: 'Button shows Send instead of Next',
      },
      {
        step: 2,
        instruction: 'Submit rating',
        detailedSteps: [
          '1. Tap the Send button',
          '2. Rating is submitted immediately',
          '3. Success dialog appears',
        ],
        whatYouShouldSee: 'Rating is submitted without going to driver rating screen. Success dialog appears.',
        expectedResult: 'Rating is submitted immediately',
      },
    ],
    preconditions: [
      'Order is a pickup order (no driver)',
      'Restaurant rating is completed',
    ],
    testData: 'Pickup order (no driver)',
    automatable: true,
    status: 'Not Started',
    notes: 'Driver rating is null for pickup orders. App should handle this gracefully.',
    successChecklist: [
      '✓ Button shows "Send" not "Next"',
      '✓ Rating submits immediately',
      '✓ Success dialog appears',
      '✓ No driver rating screen appears',
    ],
  },
  {
    id: 'TC-ORDER-RATING-020',
    title: 'Submit Rating When Restaurant Rating Not Available',
    whatYoureTesting: 'Making sure the app handles edge case when restaurant rating is not available',
    whyItMatters: 'Edge case handling ensures the app works correctly in all scenarios',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-ORDER-RATING-006'],
    relatedEdgeCases: ['EC-ORDER-RATING-008'],
    testSteps: [
      {
        step: 1,
        instruction: 'Open rating where restaurant is null',
        detailedSteps: [
          '1. Open rating screen where restaurant rating is not available',
          '2. Only driver rating should be shown',
          '3. Complete driver rating',
        ],
        whatYouShouldSee: 'Only driver rating section is shown. No restaurant rating appears.',
        expectedResult: 'Driver rating screen is shown',
      },
      {
        step: 2,
        instruction: 'Submit rating',
        detailedSteps: [
          '1. Complete driver rating',
          '2. Tap Send button',
          '3. Rating is submitted',
        ],
        whatYouShouldSee: 'Rating is submitted with only driver rating. Success dialog appears.',
        expectedResult: 'Rating submits successfully',
      },
    ],
    preconditions: [
      'Restaurant rating is not available (edge case)',
      'Driver rating is available',
    ],
    testData: 'Order where restaurant rating is null',
    automatable: true,
    status: 'Not Started',
    notes: 'This is a rare edge case. Most orders have restaurant rating.',
    successChecklist: [
      '✓ Only driver rating is shown',
      '✓ Rating submits successfully',
      '✓ Success dialog appears',
    ],
  },
  {
    id: 'TC-ORDER-RATING-021',
    title: 'Prevent Submission While Images Are Uploading',
    whatYoureTesting: 'Making sure customers cannot submit rating while images are still uploading',
    whyItMatters: 'Prevents data loss and ensures images are included in the rating',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-ORDER-RATING-005'],
    relatedEdgeCases: ['EC-ORDER-RATING-009'],
    testSteps: [
      {
        step: 1,
        instruction: 'Start uploading images',
        detailedSteps: [
          '1. Complete rating form',
          '2. Tap Upload Image button',
          '3. Select images',
          '4. Images start uploading (you might see a progress indicator)',
        ],
        whatYouShouldSee: 'Images are being uploaded, and you might see a loading indicator',
        expectedResult: 'Image upload is in progress',
      },
      {
        step: 2,
        instruction: 'Try to submit while uploading',
        detailedSteps: [
          '1. While images are uploading, tap Send button',
          '2. An error dialog should appear',
        ],
        whatYouShouldSee: 'An error dialog appears saying "Image is uploading" or similar, preventing submission',
        expectedResult: 'Submission is prevented during upload',
      },
      {
        step: 3,
        instruction: 'Wait for upload to complete and submit',
        detailedSteps: [
          '1. Wait for images to finish uploading',
          '2. The upload indicator disappears',
          '3. Now tap Send button',
        ],
        whatYouShouldSee: 'After upload completes, submission works normally',
        expectedResult: 'Submission works after upload completes',
      },
    ],
    preconditions: [
      'Rating form is completed',
      'Images are being uploaded',
    ],
    testData: 'Any order with image upload',
    automatable: false,
    status: 'Not Started',
    notes: 'Test with slow network to ensure upload takes time.',
    successChecklist: [
      '✓ Error appears when trying to submit during upload',
      '✓ Submission is prevented',
      '✓ Submission works after upload completes',
    ],
  },
  {
    id: 'TC-ORDER-RATING-022',
    title: 'Maximum Image Limit Enforcement',
    whatYoureTesting: 'Making sure customers cannot upload more images than the allowed limit',
    whyItMatters: 'Prevents excessive image uploads and ensures server limits are respected',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-ORDER-RATING-005'],
    relatedEdgeCases: ['EC-ORDER-RATING-010'],
    testSteps: [
      {
        step: 1,
        instruction: 'Upload images up to the limit',
        detailedSteps: [
          '1. Check what the maximum image limit is (usually shown in UI)',
          '2. Upload images one by one until you reach the limit',
          '3. Count how many images you have uploaded',
        ],
        whatYouShouldSee: 'You can upload images up to the limit (e.g., 3 images)',
        expectedResult: 'Images upload successfully up to limit',
      },
      {
        step: 2,
        instruction: 'Try to upload one more image',
        detailedSteps: [
          '1. Try to tap Upload Image button again',
          '2. Image picker may not open, or may show a message',
        ],
        whatYouShouldSee: 'Either the image picker does not open, or a message appears saying you have reached the limit',
        expectedResult: 'Additional upload is prevented',
      },
    ],
    preconditions: [
      'Rating screen is open',
      'Maximum image limit is set (e.g., 3 images)',
    ],
    testData: 'Order with rating that has image limit',
    automatable: false,
    status: 'Not Started',
    notes: 'Image limit is set from ratingModel.canUpload. Test with different limits.',
    successChecklist: [
      '✓ Images upload up to limit',
      '✓ Additional uploads are prevented',
      '✓ Limit message appears if applicable',
    ],
  },
  {
    id: 'TC-ORDER-RATING-023',
    title: 'Rating Type With No Options',
    whatYoureTesting: 'Making sure the app handles rating types that have no options available',
    whyItMatters: 'Some rating types may not have options configured - app must handle this gracefully',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-ORDER-RATING-002'],
    relatedEdgeCases: ['EC-ORDER-RATING-011'],
    testSteps: [
      {
        step: 1,
        instruction: 'Select star rating that has no options',
        detailedSteps: [
          '1. Select a star rating',
          '2. Check if options list appears',
          '3. If no options appear, this is the test case',
        ],
        whatYouShouldSee: 'Rating type title appears, but no options list is shown below it',
        expectedResult: 'No options list is displayed',
      },
      {
        step: 2,
        instruction: 'Try to submit without selecting options',
        detailedSteps: [
          '1. Since there are no options, you cannot select any',
          '2. Try to tap Next/Send button',
          '3. If selection is not required, submission should work',
        ],
        whatYouShouldSee: 'If selection is not required, you can submit without selecting options. If required, validation error appears.',
        expectedResult: 'App handles empty options correctly',
      },
    ],
    preconditions: [
      'Star rating is selected',
      'Rating type has empty options list',
    ],
    testData: 'Order with rating type that has no options',
    automatable: true,
    status: 'Not Started',
    notes: 'This is a rare case. Most rating types have options.',
    successChecklist: [
      '✓ No options list is shown',
      '✓ App does not crash',
      '✓ Submission works if selection not required',
    ],
  },
  {
    id: 'TC-ORDER-RATING-024',
    title: 'Sub-Option Without Dish Selection',
    whatYoureTesting: 'Making sure customers can select sub-options even when dish selection is not available',
    whyItMatters: 'Some orders may not have dishes, or dish selection may be optional',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-ORDER-RATING-003'],
    relatedEdgeCases: ['EC-ORDER-RATING-012'],
    testSteps: [
      {
        step: 1,
        instruction: 'Select option and sub-option',
        detailedSteps: [
          '1. Select a star rating',
          '2. Select an option',
          '3. Select a sub-option',
          '4. Check if dish selection appears',
        ],
        whatYouShouldSee: 'Sub-option is selected. If no dishes are available, dish selection section does not appear.',
        expectedResult: 'Sub-option can be selected without dishes',
      },
      {
        step: 2,
        instruction: 'Submit rating',
        detailedSteps: [
          '1. Complete the rating',
          '2. Tap Send button',
          '3. Rating should submit successfully',
        ],
        whatYouShouldSee: 'Rating submits successfully even without dish selection',
        expectedResult: 'Submission works without dish selection',
      },
    ],
    preconditions: [
      'Option and sub-option are selected',
      'No dishes are available or dish selection is optional',
    ],
    testData: 'Order without dishes or with optional dish selection',
    automatable: true,
    status: 'Not Started',
    notes: 'Dish selection is optional - sub-options can be selected without dishes.',
    successChecklist: [
      '✓ Sub-option can be selected',
      '✓ Dish selection is optional',
      '✓ Rating submits successfully',
    ],
  },
  {
    id: 'TC-ORDER-RATING-025',
    title: 'Back Button Disabled During Submission',
    whatYoureTesting: 'Making sure customers cannot navigate away while rating is being submitted',
    whyItMatters: 'Prevents data loss and ensures rating submission completes',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-ORDER-RATING-007'],
    relatedEdgeCases: ['EC-ORDER-RATING-013'],
    testSteps: [
      {
        step: 1,
        instruction: 'Start submitting rating',
        detailedSteps: [
          '1. Complete both restaurant and driver ratings',
          '2. Tap Send button',
          '3. Loading indicator appears',
        ],
        whatYouShouldSee: 'Loading indicator appears, and the Send button may be disabled',
        expectedResult: 'Submission is in progress',
      },
      {
        step: 2,
        instruction: 'Try to press back button',
        detailedSteps: [
          '1. While submission is loading, press the back button',
          '2. Nothing should happen, or a message appears',
        ],
        whatYouShouldSee: 'Back button does nothing, or a message appears saying "Please wait" or similar',
        expectedResult: 'Back button is disabled during submission',
      },
      {
        step: 3,
        instruction: 'Wait for submission to complete',
        detailedSteps: [
          '1. Wait for submission to finish',
          '2. Success dialog appears',
          '3. Now back button should work',
        ],
        whatYouShouldSee: 'After submission completes, back button works normally',
        expectedResult: 'Back button works after submission',
      },
    ],
    preconditions: [
      'Rating is completed',
      'Submission is in progress',
    ],
    testData: 'Any order',
    automatable: false,
    status: 'Not Started',
    notes: 'Test with slow network to ensure submission takes time.',
    successChecklist: [
      '✓ Back button is disabled during submission',
      '✓ Submission cannot be interrupted',
      '✓ Back button works after completion',
    ],
  },
  {
    id: 'TC-ORDER-RATING-026',
    title: 'Change Star Rating After Selecting Options',
    whatYoureTesting: 'Making sure customers can change their star rating and options reset correctly',
    whyItMatters: 'Customers may change their mind - the app must handle rating changes smoothly',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-ORDER-RATING-002'],
    relatedEdgeCases: ['EC-ORDER-RATING-015'],
    testSteps: [
      {
        step: 1,
        instruction: 'Select stars and options',
        detailedSteps: [
          '1. Select 2 stars (bad rating)',
          '2. Select some options',
          '3. Options for bad rating appear',
        ],
        whatYouShouldSee: 'Bad rating options are shown and selected',
        expectedResult: 'Options are selected',
      },
      {
        step: 2,
        instruction: 'Change to different star rating',
        detailedSteps: [
          '1. Tap on 5 stars (good rating)',
          '2. Watch the options change',
          '3. Previous options should be cleared',
        ],
        whatYouShouldSee: 'Good rating options appear, and previous bad rating options are cleared',
        expectedResult: 'Options reset when star rating changes',
      },
      {
        step: 3,
        instruction: 'Change back to original rating',
        detailedSteps: [
          '1. Tap on 2 stars again',
          '2. Check if previous selections are restored',
        ],
        whatYouShouldSee: 'Bad rating options appear again. Previous selections may or may not be restored (depends on implementation).',
        expectedResult: 'Options change based on star rating',
      },
    ],
    preconditions: [
      'Rating screen is open',
      'Star rating can be changed',
    ],
    testData: 'Any order with rating',
    automatable: true,
    status: 'Not Started',
    notes: 'Options may or may not be preserved when changing star ratings - test both scenarios.',
    successChecklist: [
      '✓ Options change when star rating changes',
      '✓ Previous selections are cleared or preserved correctly',
      '✓ App does not crash',
    ],
  },
  {
    id: 'TC-ORDER-RATING-027',
    title: 'Handle Image Upload Failure',
    whatYoureTesting: 'Making sure the app handles errors when image upload fails',
    whyItMatters: 'Network issues can cause upload failures - app must handle this gracefully',
    estimatedTime: '3-4 minutes',
    type: 'Functional',
    priority: 'P1',
    relatedUseCases: ['UC-ORDER-RATING-005'],
    relatedEdgeCases: ['EC-ORDER-RATING-017'],
    testSteps: [
      {
        step: 1,
        instruction: 'Start uploading images with network failure',
        detailedSteps: [
          '1. Select images to upload',
          '2. Turn off network connection',
          '3. Images start uploading',
        ],
        whatYouShouldSee: 'Upload starts but fails due to network error',
        expectedResult: 'Upload fails',
      },
      {
        step: 2,
        instruction: 'Check error handling',
        detailedSteps: [
          '1. Look for error message',
          '2. Check if failed images are shown',
          '3. See if retry option is available',
        ],
        whatYouShouldSee: 'An error message appears, and failed images may show an error icon. Retry option may be available.',
        expectedResult: 'Error is shown and retry is available',
      },
      {
        step: 3,
        instruction: 'Retry upload or submit without images',
        detailedSteps: [
          '1. Turn network back on',
          '2. Retry upload or remove failed images',
          '3. If images are not required, submit without them',
        ],
        whatYouShouldSee: 'You can retry upload or submit without images if they are not required',
        expectedResult: 'Recovery options work',
      },
    ],
    preconditions: [
      'Rating screen is open',
      'Network can be disabled',
    ],
    testData: 'Any order',
    automatable: false,
    status: 'Not Started',
    notes: 'Test with both required and optional images.',
    successChecklist: [
      '✓ Error message is shown',
      '✓ Failed images are indicated',
      '✓ Retry works',
      '✓ Submission works if images not required',
    ],
  },
  {
    id: 'TC-ORDER-RATING-028',
    title: 'Rating Options Cached During Session',
    whatYoureTesting: 'Making sure rating options stay the same even if server updates them while you are filling the form',
    whyItMatters: 'Prevents confusion - customers should complete rating with the options they saw when they started',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-ORDER-RATING-001'],
    relatedEdgeCases: ['EC-ORDER-RATING-018'],
    testSteps: [
      {
        step: 1,
        instruction: 'Start rating and note the options',
        detailedSteps: [
          '1. Open rating screen',
          '2. Select a star rating',
          '3. Note what options are shown',
          '4. Do not submit yet',
        ],
        whatYouShouldSee: 'Options are displayed based on the star rating you selected',
        expectedResult: 'Initial options are shown',
      },
      {
        step: 2,
        instruction: 'Keep rating screen open',
        detailedSteps: [
          '1. Leave the rating screen open',
          '2. Do not close the app',
          '3. Options should remain the same',
        ],
        whatYouShouldSee: 'Options stay the same even if server updates them',
        expectedResult: 'Options are cached and do not change',
      },
    ],
    preconditions: [
      'Rating screen is open',
      'Options are loaded',
    ],
    testData: 'Any order',
    automatable: false,
    status: 'Not Started',
    notes: 'Options are fetched once on init and cached. Changes on server are not reflected until screen is reopened.',
    successChecklist: [
      '✓ Options remain consistent',
      '✓ Options do not change during session',
      '✓ Rating can be completed normally',
    ],
  },
  {
    id: 'TC-ORDER-RATING-029',
    title: 'Rating Version Compatibility',
    whatYoureTesting: 'Making sure the app works correctly with different rating versions from the server',
    whyItMatters: 'Backend may use different rating versions - app must handle both correctly',
    estimatedTime: '2-3 minutes',
    type: 'Integration',
    priority: 'P2',
    relatedUseCases: ['UC-ORDER-RATING-002'],
    relatedEdgeCases: ['EC-ORDER-RATING-015'],
    testSteps: [
      {
        step: 1,
        instruction: 'Complete rating normally',
        detailedSteps: [
          '1. Select star rating',
          '2. Select options',
          '3. Complete rating',
          '4. Submit rating',
        ],
        whatYouShouldSee: 'Rating works normally regardless of version',
        expectedResult: 'Rating submits successfully',
      },
      {
        step: 2,
        instruction: 'Verify rating data is correct',
        detailedSteps: [
          '1. Check that star values are sent correctly',
          '2. Check that options are included',
          '3. Verify rating version is handled',
        ],
        whatYouShouldSee: 'Rating data is formatted correctly for the version being used',
        expectedResult: 'Rating version is handled correctly',
      },
    ],
    preconditions: [
      'Rating screen is open',
      'Server uses a specific rating version',
    ],
    testData: 'Orders with different rating versions',
    automatable: false,
    status: 'Not Started',
    notes: 'Rating version determines how star values are mapped. Version 2 uses stars directly, version 1 uses type values.',
    successChecklist: [
      '✓ Rating works with version 1',
      '✓ Rating works with version 2',
      '✓ Data is formatted correctly',
    ],
  },
  {
    id: 'TC-ORDER-RATING-030',
    title: 'App Rating Prompt Can Be Dismissed',
    whatYoureTesting: 'Making sure customers can dismiss the app rating prompt without affecting rating submission',
    whyItMatters: 'Customers should have control - they can rate the app later if they want',
    estimatedTime: '2-3 minutes',
    type: 'Functional',
    priority: 'P2',
    relatedUseCases: ['UC-ORDER-RATING-007'],
    relatedEdgeCases: ['EC-ORDER-RATING-016'],
    testSteps: [
      {
        step: 1,
        instruction: 'Complete rating with high stars',
        detailedSteps: [
          '1. Rate restaurant with 5 stars',
          '2. Rate driver with 5 stars',
          '3. Submit rating',
        ],
        whatYouShouldSee: 'Success dialog appears, then app rating prompt appears',
        expectedResult: 'App rating prompt is shown',
      },
      {
        step: 2,
        instruction: 'Dismiss the app rating prompt',
        detailedSteps: [
          '1. Look for "Maybe Later" or "Not Now" button',
          '2. Tap to dismiss',
          '3. Prompt should close',
        ],
        whatYouShouldSee: 'App rating prompt closes, and you return to the previous screen',
        expectedResult: 'Prompt can be dismissed',
      },
      {
        step: 3,
        instruction: 'Verify rating was still submitted',
        detailedSteps: [
          '1. Check that success dialog appeared',
          '2. Rating should be submitted successfully',
          '3. Screen should close normally',
        ],
        whatYouShouldSee: 'Rating submission succeeded even though you dismissed the app rating prompt',
        expectedResult: 'Rating submission is not affected by dismissing prompt',
      },
    ],
    preconditions: [
      'Both ratings are 4+ stars',
      'App rating prompt is available',
    ],
    testData: 'Order with both ratings, give 4+ stars',
    automatable: false,
    status: 'Not Started',
    notes: 'App rating prompt is optional - dismissing it does not affect rating submission.',
    successChecklist: [
      '✓ App rating prompt appears',
      '✓ Prompt can be dismissed',
      '✓ Rating submission succeeds',
      '✓ Screen closes normally',
    ],
  },
];

