import { TestCase } from '@/lib/types';

export const reportingTestCases: TestCase[] = [
 {
  id: 'TC-REPORTING-001',
  title: 'Display Issue Type Selection Screen',
  whatYoureTesting: 'Verify that issue type selection screen appears and displays available issue types',
  whyItMatters: 'Users need to see available issue types to report problems. If screen doesn\'t load, reporting cannot proceed.',
  estimatedTime: '2-3 minutes',
  type: 'Functional',
  priority: 'P0',
  relatedUseCases: ['UC-REPORTING-001', 'UC-REPORTING-009'],
  relatedEdgeCases: ['EC-REPORTING-001', 'EC-REPORTING-002'],
  testSteps: [
   {
    step: 1,
    instruction: 'Go to report issue screen',
    detailedSteps: [
     '1. Open restaurant page',
     '2. Tap on report issue option',
     '3. Wait for screen to load',
    ],
    whatYouShouldSee: 'Issue type selection screen appears. Loading indicator may appear briefly while fetching issue types',
    expectedResult: 'Screen loads successfully',
   },
   {
    step: 2,
    instruction: 'Verify issue types are displayed',
    detailedSteps: [
     '1. Check if issue types are listed',
     '2. Check if each issue type shows its reasons',
     '3. Verify warning message appears at bottom',
    ],
    whatYouShouldSee: 'List of issue types appears. Each issue type shows as a card/element with its name and reasons. Warning message appears at bottom with "Rate the Order" text',
    expectedResult: 'Issue types are displayed correctly',
   },
   {
    step: 3,
    instruction: 'Select issue reasons',
    detailedSteps: [
     '1. Tap on issue type to expand',
     '2. Select up to 3 reasons',
     '3. Observe selection state',
    ],
    whatYouShouldSee: 'Selected reasons become highlighted. Up to 3 reasons can be selected. Selection order is maintained',
    expectedResult: 'Selection works correctly',
   },
  ],
  preconditions: [
   'User is on restaurant page',
   'Reporting feature is accessible',
   'Network connection available',
  ],
  testData: 'Restaurant with available issue types',
  automatable: true,
  status: 'Not Started',
  notes: 'Maximum 3 reasons can be selected',
  successChecklist: [
   '✓ Screen loads',
   '✓ Issue types are displayed',
   '✓ Reasons can be selected',
   '✓ Maximum 3 selections enforced',
  ],
 },
 {
  id: 'TC-REPORTING-002',
  title: 'Navigate Through Issue Reason Steps',
  whatYoureTesting: 'Verify that users can navigate through multi-step form for each selected reason',
  whyItMatters: 'Users need to provide details for each reason. Navigation must work correctly for the flow to complete.',
  estimatedTime: '3-5 minutes',
  type: 'Functional',
  priority: 'P0',
  relatedUseCases: ['UC-REPORTING-002'],
  relatedEdgeCases: ['EC-REPORTING-003', 'EC-REPORTING-004'],
  testSteps: [
   {
    step: 1,
    instruction: 'Select reasons and start flow',
    detailedSteps: [
     '1. Select 2-3 issue reasons',
     '2. Tap continue or start button',
    ],
    whatYouShouldSee: 'First reason step appears. Progress header shows "Step 1 of X" where X is total number of selected reasons. Current reason name is displayed',
    expectedResult: 'First step is displayed',
   },
   {
    step: 2,
    instruction: 'Fill form fields for first reason',
    detailedSteps: [
     '1. Fill required fields based on reason type',
     '2. Check if fields match reason requirements',
    ],
    whatYouShouldSee: 'Form shows fields based on reason metadata. Date picker appears if withDate=true, dish search if withDishSearch=true, note field if withNote=true, app name if withAppsName=true',
    expectedResult: 'Form fields are displayed correctly',
   },
   {
    step: 3,
    instruction: 'Go to next step',
    detailedSteps: [
     '1. Fill all required fields',
     '2. Tap Next button',
    ],
    whatYouShouldSee: 'Current step disappears, next reason step appears. Progress header updates to show "Step 2 of X". Next reason name is displayed',
    expectedResult: 'going to next step works',
   },
   {
    step: 4,
    instruction: 'Complete all steps',
    detailedSteps: [
     '1. Fill forms for all reasons',
     '2. Navigate through all steps',
    ],
    whatYouShouldSee: 'Progress reaches last step. Progress header shows "Step X of X". Submit button appears on last step',
    expectedResult: 'All steps are completed',
   },
  ],
  preconditions: [
   'User has selected issue reasons',
   'At least one reason is selected',
  ],
  testData: '2-3 selected issue reasons',
  automatable: true,
  status: 'Not Started',
  notes: 'Each reason has its own step with specific fields',
  successChecklist: [
   '✓ First step appears',
   '✓ Form fields match reason requirements',
   '✓ going to screen works',
   '✓ Progress updates',
   '✓ All steps can be completed',
  ],
 },
 {
  id: 'TC-REPORTING-003',
  title: 'Select Date for Issue Reason',
  whatYoureTesting: 'Verify that users can select a date when reason requires date selection',
  whyItMatters: 'Some issues require date information. Date selection must work correctly.',
  estimatedTime: '1-2 minutes',
  type: 'Functional',
  priority: 'P0',
  relatedUseCases: ['UC-REPORTING-003'],
  relatedEdgeCases: ['EC-REPORTING-005'],
  testSteps: [
   {
    step: 1,
    instruction: 'Go to reason step with date requirement',
    detailedSteps: [
     '1. Select reason with withDate = true',
     '2. Go to that reason step',
    ],
    whatYouShouldSee: 'Date picker field appears in form',
    expectedResult: 'Date field is displayed',
   },
   {
    step: 2,
    instruction: 'Select a date',
    detailedSteps: [
     '1. Tap on date field',
     '2. Date picker opens',
     '3. Select a date',
    ],
    whatYouShouldSee: 'Date picker opens, date can be selected, selected date appears in field',
    expectedResult: 'Date is selected',
   },
   {
    step: 3,
    instruction: 'Verify date is saved',
    detailedSteps: [
     '1. Go to next step',
     '2. Navigate back',
    ],
    whatYouShouldSee: 'Date is preserved when navigating back. Date appears in draft',
    expectedResult: 'Date is saved correctly',
   },
  ],
  preconditions: [
   'User is on reason step',
   'Reason has withDate = true',
  ],
  testData: 'Reason requiring date selection',
  automatable: false,
  status: 'Not Started',
  notes: 'Date is stored in draft',
  successChecklist: [
   '✓ Date field appears',
   '✓ Date can be selected',
   '✓ Date is saved',
  ],
 },
 {
  id: 'TC-REPORTING-004',
  title: 'Search and Select Dish',
  whatYoureTesting: 'Verify that users can search for and select dishes when reason requires dish selection',
  whyItMatters: 'Some issues are related to specific dishes. Dish search and selection must work correctly.',
  estimatedTime: '2-3 minutes',
  type: 'Functional',
  priority: 'P0',
  relatedUseCases: ['UC-REPORTING-004'],
  relatedEdgeCases: ['EC-REPORTING-006', 'EC-REPORTING-007'],
  testSteps: [
   {
    step: 1,
    instruction: 'Go to reason step with dish search requirement',
    detailedSteps: [
     '1. Select reason with withDishSearch = true',
     '2. Go to that reason step',
    ],
    whatYouShouldSee: 'Dish selection field appears with search input and dish picker button',
    expectedResult: 'Dish field is displayed',
   },
   {
    step: 2,
    instruction: 'Open dish picker',
    detailedSteps: [
     '1. Tap on dish picker button',
    ],
    whatYouShouldSee: 'Bottom sheet slides up with search input at top and dish list below',
    expectedResult: 'Dish picker opens',
   },
   {
    step: 3,
    instruction: 'Search for dish',
    detailedSteps: [
     '1. Type dish name in search field',
     '2. Wait for search results',
    ],
    whatYouShouldSee: 'Search is debounced (300ms delay). Dishes matching search query appear in list. Loading state may appear',
    expectedResult: 'Search works correctly',
   },
   {
    step: 4,
    instruction: 'Select a dish',
    detailedSteps: [
     '1. Tap on a dish from results',
    ],
    whatYouShouldSee: 'Selected dish appears in form field, bottom sheet closes',
    expectedResult: 'Dish is selected',
   },
   {
    step: 5,
    instruction: 'Verify dish is saved',
    detailedSteps: [
     '1. Go to next step',
     '2. Navigate back',
    ],
    whatYouShouldSee: 'Dish is preserved when navigating back. Dish appears in draft',
    expectedResult: 'Dish is saved correctly',
   },
  ],
  preconditions: [
   'User is on reason step',
   'Reason has withDishSearch = true',
   'Restaurant has dishes',
  ],
  testData: 'Reason requiring dish selection, restaurant with dishes',
  automatable: false,
  status: 'Not Started',
  notes: 'Search is debounced with 300ms delay',
  successChecklist: [
   '✓ Dish field appears',
   '✓ Dish picker opens',
   '✓ Search works',
   '✓ Dish can be selected',
   '✓ Dish is saved',
  ],
 },
 {
  id: 'TC-REPORTING-005',
  title: 'Enter Note for Issue Reason',
  whatYoureTesting: 'Verify that users can enter additional notes when reason requires note input',
  whyItMatters: 'Notes provide additional context. Note input must work correctly.',
  estimatedTime: '1-2 minutes',
  type: 'Functional',
  priority: 'P0',
  relatedUseCases: ['UC-REPORTING-005'],
  relatedEdgeCases: ['EC-REPORTING-008'],
  testSteps: [
   {
    step: 1,
    instruction: 'Go to reason step with note requirement',
    detailedSteps: [
     '1. Select reason with withNote = true',
     '2. Go to that reason step',
    ],
    whatYouShouldSee: 'Note input field appears in form',
    expectedResult: 'Note field is displayed',
   },
   {
    step: 2,
    instruction: 'Enter note text',
    detailedSteps: [
     '1. Tap on note field',
     '2. Keyboard appears',
     '3. Type your note',
    ],
    whatYouShouldSee: 'Text is entered in field, note is saved as you type',
    expectedResult: 'Note is entered',
   },
   {
    step: 3,
    instruction: 'Verify note is saved',
    detailedSteps: [
     '1. Go to next step',
     '2. Navigate back',
    ],
    whatYouShouldSee: 'Note is preserved when navigating back. Note appears in draft',
    expectedResult: 'Note is saved correctly',
   },
  ],
  preconditions: [
   'User is on reason step',
   'Reason has withNote = true',
  ],
  testData: 'Reason requiring note input',
  automatable: false,
  status: 'Not Started',
  notes: 'Note is saved as user types',
  successChecklist: [
   '✓ Note field appears',
   '✓ Note can be entered',
   '✓ Note is saved',
  ],
 },
 {
  id: 'TC-REPORTING-006',
  title: 'Enter App Name for Issue Reason',
  whatYoureTesting: 'Verify that users can enter app name when reason requires other app name',
  whyItMatters: 'Some issues are related to other apps. App name input must work correctly.',
  estimatedTime: '1-2 minutes',
  type: 'Functional',
  priority: 'P1',
  relatedUseCases: ['UC-REPORTING-006'],
  relatedEdgeCases: ['EC-REPORTING-009'],
  testSteps: [
   {
    step: 1,
    instruction: 'Go to reason step with app name requirement',
    detailedSteps: [
     '1. Select reason with withAppsName = true',
     '2. Go to that reason step',
    ],
    whatYouShouldSee: 'App name input field appears in form',
    expectedResult: 'App name field is displayed',
   },
   {
    step: 2,
    instruction: 'Enter app name',
    detailedSteps: [
     '1. Tap on app name field',
     '2. Keyboard appears',
     '3. Type app name',
    ],
    whatYouShouldSee: 'Text is entered in field, app name is saved',
    expectedResult: 'App name is entered',
   },
   {
    step: 3,
    instruction: 'Verify app name is saved',
    detailedSteps: [
     '1. Go to next step',
     '2. Navigate back',
    ],
    whatYouShouldSee: 'App name is preserved when navigating back. App name appears in draft',
    expectedResult: 'App name is saved correctly',
   },
  ],
  preconditions: [
   'User is on reason step',
   'Reason has withAppsName = true',
  ],
  testData: 'Reason requiring app name input',
  automatable: false,
  status: 'Not Started',
  notes: 'App name is stored in draft',
  successChecklist: [
   '✓ App name field appears',
   '✓ App name can be entered',
   '✓ App name is saved',
  ],
 },
 {
  id: 'TC-REPORTING-007',
  title: 'Navigate Back to Previous Step',
  whatYoureTesting: 'Verify that users can navigate back to previous steps and data is preserved',
  whyItMatters: 'Users may want to review or modify previous answers. Going back must work correctly.',
  estimatedTime: '2-3 minutes',
  type: 'Functional',
  priority: 'P1',
  relatedUseCases: ['UC-REPORTING-007'],
  relatedEdgeCases: ['EC-REPORTING-010'],
  testSteps: [
   {
    step: 1,
    instruction: 'Complete multiple steps',
    detailedSteps: [
     '1. Fill form for first reason',
     '2. Go to second reason',
     '3. Fill form for second reason',
    ],
    whatYouShouldSee: 'You are now on second reason step',
    expectedResult: 'Multiple steps are completed',
   },
   {
    step: 2,
    instruction: 'Tap back button',
    detailedSteps: [
     '1. Tap back button in header',
    ],
    whatYouShouldSee: 'Current step disappears, previous step (first reason) appears. Form fields are pre-filled with previously entered data',
    expectedResult: 'Back going to screen works',
   },
   {
    step: 3,
    instruction: 'Verify data is preserved',
    detailedSteps: [
     '1. Check if previous data is still there',
     '2. Modify some data',
     '3. Navigate forward again',
    ],
    whatYouShouldSee: 'Previous data is preserved. Modified data is saved. go to forward works',
    expectedResult: 'Data is preserved correctly',
   },
   {
    step: 4,
    instruction: 'Tap back on first step',
    detailedSteps: [
     '1. Navigate back to first step',
     '2. Tap back button again',
    ],
    whatYouShouldSee: 'Step screen closes, issue type selection screen appears',
    expectedResult: 'Back on first step works',
   },
  ],
  preconditions: [
   'User is not on first step',
   'Previous steps exist',
  ],
  testData: 'N/A',
  automatable: true,
  status: 'Not Started',
  notes: 'Back button on first step returns to selection screen',
  successChecklist: [
   '✓ Back going to screen works',
   '✓ Data is preserved',
   '✓ First step back works',
  ],
 },
 {
  id: 'TC-REPORTING-008',
  title: 'Submit Report',
  whatYoureTesting: 'Verify that users can submit completed report successfully',
  whyItMatters: 'Report submission is critical. Users must be able to submit their reports.',
  estimatedTime: '3-5 minutes',
  type: 'Functional',
  priority: 'P0',
  relatedUseCases: ['UC-REPORTING-008'],
  relatedEdgeCases: ['EC-REPORTING-011', 'EC-REPORTING-012'],
  testSteps: [
   {
    step: 1,
    instruction: 'Complete all reason steps',
    detailedSteps: [
     '1. Fill forms for all selected reasons',
     '2. Navigate through all steps',
     '3. Reach last step',
    ],
    whatYouShouldSee: 'Last step is displayed. Submit button appears and becomes enabled when form is valid',
    expectedResult: 'All steps are completed',
   },
   {
    step: 2,
    instruction: 'Tap Submit button',
    detailedSteps: [
     '1. Ensure all required fields are filled',
     '2. Tap Submit button',
    ],
    whatYouShouldSee: 'Loading dialog appears. Submit button shows loading state',
    expectedResult: 'Submission is initiated',
   },
   {
    step: 3,
    instruction: 'Wait for submission',
    detailedSteps: [
     '1. Wait for server response',
    ],
    whatYouShouldSee: 'Loading dialog disappears. Success snackbar appears showing "report_submitted_successfully" message',
    expectedResult: 'Submission completes successfully',
   },
   {
    step: 4,
    instruction: 'Verify go to',
    detailedSteps: [
     '1. Check where user is navigated',
    ],
    whatYouShouldSee: 'Screen closes, user returns to previous screen (restaurant page). Success message is shown',
    expectedResult: 'going to screen works correctly',
   },
  ],
  preconditions: [
   'User has completed all reason steps',
   'All required fields are filled',
   'Network connection available',
  ],
  testData: 'Completed report with all fields filled',
  automatable: true,
  status: 'Not Started',
  notes: 'Success message appears after going to screen',
  successChecklist: [
   '✓ Submit button appears',
   '✓ Submission works',
   '✓ Loading state appears',
   '✓ Success message appears',
   '✓ go to occurs',
  ],
 },
 {
  id: 'TC-REPORTING-009',
  title: 'Fetch Issue Types from server',
  whatYoureTesting: 'Verify that issue types are fetched from server when screen loads',
  whyItMatters: 'Issue types need to be loaded from server. If fetching fails, reporting cannot proceed.',
  estimatedTime: '2-3 minutes',
  type: 'Functional',
  priority: 'P0',
  relatedUseCases: ['UC-REPORTING-009'],
  relatedEdgeCases: ['EC-REPORTING-001', 'EC-REPORTING-002'],
  testSteps: [
   {
    step: 1,
    instruction: 'Go to report screen',
    detailedSteps: [
     '1. Open restaurant page',
     '2. Tap on report issue option',
    ],
    whatYouShouldSee: 'Loading state appears while fetching issue types',
    expectedResult: 'server request is initiated',
   },
   {
    step: 2,
    instruction: 'Wait for server response',
    detailedSteps: [
     '1. Wait for server to respond',
    ],
    whatYouShouldSee: 'Issue types are loaded and displayed. Loading state disappears',
    expectedResult: 'Issue types are fetched',
   },
   {
    step: 3,
    instruction: 'Verify issue types are displayed',
    detailedSteps: [
     '1. Check if issue types appear',
     '2. Check if reasons are shown for each type',
    ],
    whatYouShouldSee: 'List of issue types appears. Each issue type shows its reasons. Metadata is built for each reason',
    expectedResult: 'Issue types are displayed correctly',
   },
  ],
  preconditions: [
   'User goes to report screen',
   'Restaurant ID is available',
   'Network connection available',
  ],
  testData: 'Restaurant with available issue types',
  automatable: true,
  status: 'Not Started',
  notes: 'Metadata includes flags for date, dish search, note, app name',
  successChecklist: [
   '✓ server request is made',
   '✓ Issue types are loaded',
   '✓ Issue types are displayed',
   '✓ Metadata is built',
  ],
 },
 {
  id: 'TC-REPORTING-010',
  title: 'View Progress Indicator',
  whatYoureTesting: 'Verify that progress indicator shows correct step information',
  whyItMatters: 'Progress indicator helps users understand their position in the flow.',
  estimatedTime: '1 minute',
  type: 'Functional',
  priority: 'P2',
  relatedUseCases: ['UC-REPORTING-010'],
  relatedEdgeCases: ['EC-REPORTING-013'],
  testSteps: [
   {
    step: 1,
    instruction: 'Start reporting flow',
    detailedSteps: [
     '1. Select reasons',
     '2. Start flow',
    ],
    whatYouShouldSee: 'Progress header appears showing "Step 1 of X" where X is total number of selected reasons. Current reason name is displayed',
    expectedResult: 'Progress header is displayed',
   },
   {
    step: 2,
    instruction: 'Navigate through steps',
    detailedSteps: [
     '1. Complete first step',
     '2. Go to second step',
    ],
    whatYouShouldSee: 'Progress header updates to show "Step 2 of X". Current reason name updates. Next reason name is shown if not last step',
    expectedResult: 'Progress updates correctly',
   },
   {
    step: 3,
    instruction: 'Reach last step',
    detailedSteps: [
     '1. Complete all steps except last',
     '2. Go to last step',
    ],
    whatYouShouldSee: 'Progress header shows "Step X of X". Current reason name is displayed. Next reason name is not shown',
    expectedResult: 'Last step progress is correct',
   },
  ],
  preconditions: [
   'User is in reporting flow',
   'Steps are active',
  ],
  testData: 'N/A',
  automatable: true,
  status: 'Not Started',
  notes: 'Progress shows completed steps and total steps',
  successChecklist: [
   '✓ Progress header appears',
   '✓ Progress updates',
   '✓ Progress is accurate',
  ],
 },
 {
  id: 'TC-REPORTING-011',
  title: 'Maximum 3 Reasons Selection',
  whatYoureTesting: 'Verify that users cannot select more than 3 issue reasons',
  whyItMatters: 'System limits selection to 3 reasons. This limit must be enforced.',
  estimatedTime: '1 minute',
  type: 'Functional',
  priority: 'P0',
  relatedUseCases: ['UC-REPORTING-001'],
  relatedEdgeCases: ['EC-REPORTING-014'],
  testSteps: [
   {
    step: 1,
    instruction: 'Select 3 reasons',
    detailedSteps: [
     '1. Select first reason',
     '2. Select second reason',
     '3. Select third reason',
    ],
    whatYouShouldSee: 'All 3 reasons are selected and highlighted',
    expectedResult: '3 reasons are selected',
   },
   {
    step: 2,
    instruction: 'Try to select fourth reason',
    detailedSteps: [
     '1. Try to select another reason',
    ],
    whatYouShouldSee: 'Fourth reason cannot be selected. Selection does not change. Maximum limit is enforced',
    expectedResult: 'Maximum limit is enforced',
   },
   {
    step: 3,
    instruction: 'Deselect one reason',
    detailedSteps: [
     '1. Deselect one of the selected reasons',
    ],
    whatYouShouldSee: 'Reason is deselected. Now you can select another reason',
    expectedResult: 'Deselection works',
   },
  ],
  preconditions: [
   'User is on issue type selection screen',
   'More than 3 reasons are available',
  ],
  testData: 'N/A',
  automatable: true,
  status: 'Not Started',
  notes: 'Maximum 3 reasons can be selected',
  successChecklist: [
   '✓ 3 reasons can be selected',
   '✓ Fourth reason cannot be selected',
   '✓ Deselection works',
  ],
 },
 {
  id: 'TC-REPORTING-012',
  title: 'Handle Submission Error',
  whatYoureTesting: 'Verify that errors during submission are handled gracefully',
  whyItMatters: 'Network errors or server errors should not crash the app. Users should see appropriate error messages.',
  estimatedTime: '2-3 minutes',
  type: 'Functional',
  priority: 'P0',
  relatedUseCases: ['UC-REPORTING-008'],
  relatedEdgeCases: ['EC-REPORTING-011', 'EC-REPORTING-012'],
  testSteps: [
   {
    step: 1,
    instruction: 'Complete report and attempt submission',
    detailedSteps: [
     '1. Fill all forms',
     '2. Disable network or simulate error',
     '3. Tap Submit',
    ],
    whatYouShouldSee: 'Loading dialog appears, then error occurs',
    expectedResult: 'Submission fails',
   },
   {
    step: 2,
    instruction: 'Verify error handling',
    detailedSteps: [
     '1. Observe error state',
     '2. Check if data is preserved',
    ],
    whatYouShouldSee: 'Error is caught, loading dialog is dismissed. Error message appears. Data is preserved. User can retry',
    expectedResult: 'Error is handled gracefully',
   },
   {
    step: 3,
    instruction: 'Retry submission',
    detailedSteps: [
     '1. Enable network',
     '2. Tap Submit again',
    ],
    whatYouShouldSee: 'Submission retries successfully. Success message appears',
    expectedResult: 'Retry works correctly',
   },
  ],
  preconditions: [
   'User has completed all steps',
   'Network can be disabled',
  ],
  testData: 'Completed report, network error scenario',
  automatable: false,
  status: 'Not Started',
  notes: 'Errors should be caught and handled without crashing',
  successChecklist: [
   '✓ Error is caught',
   '✓ Loading dialog is dismissed',
   '✓ Error message appears',
   '✓ Data is preserved',
   '✓ Retry works',
  ],
 },
];

